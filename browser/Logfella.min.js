(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.Logfella=e()}})(function(){var e,t,r;return function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var l=typeof require=="function"&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";var n=e("logfella-common-transport");function i(){throw new Error("[logger] Cannot create a BrowserConsoleTransport object directly")}t.exports=i;i.prototype=Object.create(n.prototype);i.prototype.constructor=i;i.create=function e(t,r){var n=Object.create(i.prototype);n.init(t,r);return n};i.prototype.init=function e(t,r){if(r===null||typeof r!=="object"){r={}}n.prototype.init.call(this,t,r);Object.defineProperties(this,{color:{value:false,enumerable:true},indent:{value:r.indent===undefined?true:!!r.indent,writable:true,enumerable:true},includeIdMeta:{value:!!r.includeIdMeta,writable:true,enumerable:true},includeCommonMeta:{value:r.includeCommonMeta===undefined?true:!!r.includeCommonMeta,writable:true,enumerable:true},includeUserMeta:{value:r.includeUserMeta===undefined?true:!!r.includeUserMeta,writable:true,enumerable:true}})};i.prototype.transport=function e(t,r,n){console.log(this.messageFormatter(t,r)+"\n");n()}},{"logfella-common-transport":11}],2:[function(e,t,r){(function(r){"use strict";var n=e("async-kit");var i=e("string-kit");var s=e("logfella-common-transport");var o=e("util");var a,l,u=e("kung-fig");var c;if(r.browser){c=Date.now();if(r.uptime!=="function"){r.uptime=function e(){return Date.now()-c}}}else{a=e("path");l=e("os");u=e("kung-fig")}function f(){throw new Error("[logger] Cannot create a Logfella object directly")}t.exports=f;f.prototype.timeFormatter=e("./timeFormatter.js");f.prototype.messageFormatter=e("./messageFormatter.js");function p(){}var h={},d=["trace","debug","verbose","info","warning","error","fatal"],g=[];f.create=function e(t){var n=Object.create(f.prototype,{logTransports:{value:[],writable:true,enumerable:true},monTransports:{value:[],writable:true,enumerable:true},app:{value:null,writable:true,enumerable:true},pid:{value:null,writable:true,enumerable:true},hostname:{value:null,writable:true,enumerable:true},minLevel:{value:3,writable:true,enumerable:true},maxLevel:{value:6,writable:true,enumerable:true},defaultDomain:{value:"no-domain",writable:true,enumerable:true},overrideConsole:{value:false,writable:true,enumerable:true},levelArray:{value:d,writable:true,enumerable:true},levelHash:{value:h,writable:true,enumerable:true},mon:{value:{warnings:0,errors:0},writable:true,enumerable:true},monPeriod:{value:null,writable:true,enumerable:true}});Object.defineProperty(n,"root",{value:n});if(!r.browser){n.app=a.basename(r.argv[1]||"(unknown)");n.pid=r.pid;n.hostname=l.hostname()}if(t){n.setGlobalConfig(t)}return n};(function(){var e,t;function r(e,t){f.prototype[t]=function(){var t;if(e<this.minLevel||e>this.maxLevel){t=arguments[arguments.length-1];if(typeof t==="function"){t()}return}return this.log.apply(this,[e].concat(Array.prototype.slice.call(arguments)))}}for(e=0;e<d.length;e++){t=d[e];h[t]=e;g.push(e);g.push(t);r(e,t)}})();f.prototype.use=function e(t){var r=Object.create(this,{domain:{value:t,enumerable:true}});return r};f.prototype.setGlobalConfig=function e(t){var r,n;if(t.app){this.app=t.app}if(t.minLevel!==undefined){if(typeof t.minLevel==="number"){this.minLevel=t.minLevel}else if(typeof t.minLevel==="string"){this.minLevel=this.levelHash[t.minLevel]}}if(t.maxLevel!==undefined){if(typeof t.maxLevel==="number"){this.maxLevel=t.maxLevel}else if(typeof t.maxLevel==="string"){this.maxLevel=this.levelHash[t.maxLevel]}}if(t.defaultDomain&&typeof t.defaultDomain==="string"){this.defaultDomain=t.defaultDomain}if(t.overrideConsole!==undefined){t.overrideConsole=!!t.overrideConsole;if(this.overrideConsole!==t.overrideConsole){if(t.overrideConsole){this.replaceConsole()}else{this.restoreConsole()}}this.overrideConsole=t.overrideConsole}if(t.monPeriod!==undefined){if(!t.monPeriod){this.monPeriod=null;this.stopMon()}else if(typeof t.monPeriod==="number"){this.monPeriod=t.monPeriod;this.startMon()}}if(Array.isArray(t.transports)){this.removeAllTransports();n=t.transports.length;for(r=0;r<n;r++){this.addTransport(t.transports[r].type,t.transports[r])}}};f.prototype.startMon=function e(){var t=this;if(this.monTimer){return}this.monTimer=setTimeout(function(){t.monTimer=null;t.monFrame(function(){t.startMon()})},this.monPeriod)};f.prototype.stopMon=function e(){if(this.monTimer){clearTimeout(this.monTimer);this.monTimer=null}};f.prototype.updateMon=function e(t){u.autoReduce(this.mon,t)};f.prototype.log=function e(t){var s,o,a,l,c,h,d,g,y={};s=arguments[arguments.length-1];if(typeof s!=="function"){s=p}if(typeof t==="number"){if(t<this.minLevel||t>this.maxLevel||t>=this.levelArray.length){s();return}c={level:t,levelName:this.levelArray[t]}}else if(typeof t==="string"){c={levelName:t,level:this.levelHash[t]};if(c.level===undefined||c.level<this.minLevel||c.level>this.maxLevel){s();return}}else{s();return}if(this.domain){c.domain=this.domain;l=1}else{c.domain=typeof arguments[1]==="string"?arguments[1]:this.defaultDomain;l=2}if(arguments.length>l+1&&typeof arguments[l+1]!=="function"){h=typeof arguments[l];if(arguments[l]&&h==="object"){c.meta=arguments[l];if("code"in c.meta){c.code=c.meta.code;delete c.meta.code}if("mon"in c.meta){g=c.meta.mon;delete c.meta.mon}l++}else if(h==="number"){c.code=arguments[l];l++}else if(h==="string"&&arguments[l].indexOf("%")===-1){c.code=arguments[l];l++}}if(c.level>=4){if(c.level>=5){this.mon.errors=+this.mon.errors+1||1}else{this.mon.warnings=+this.mon.warnings+1||1}}if(g&&typeof g==="object"){u.autoReduce(this.mon,g)}if(!this.logTransports.length){s();return}a=arguments[l];if(typeof a==="string"){o=i.format.count(a);if(!o){c.messageData=a}else{c.messageData=Array.prototype.slice.call(arguments,l,l+1+o);c.messageData.isFormat=true}}else{c.messageData=a}if(c.level===0&&!c.stack){if(r.browser){d=new Error}else{d={};Error.captureStackTrace(d,f.prototype.trace);if(d.stack.indexOf("\n")===-1){d={};Error.captureStackTrace(d,f.prototype.log)}}c.stack=d.stack}c.app=this.app;c.time=new Date;c.uptime=r.uptime();c.pid=this.pid;c.hostname=this.hostname;c.messageCache={};n.parallel(this.logTransports).using(function(e,r){if(t<e.minLevel||t>e.maxLevel){r();return}e.transport(c,y,r)}).exec(s)};f.prototype.monFrame=function e(t){if(!t){t=p}if(!this.monTransports.length){t();return}var i={};var s={level:null,levelName:"mon",app:this.app,domain:this.domain||"mon",time:new Date,uptime:r.uptime(),pid:this.pid,hostname:this.hostname,mon:this.mon};n.parallel(this.monTransports).using(function(e,t){e.transport(s,i,t)}).exec(t)};f.transports={};f.prototype.addTransport=function t(n,o){var a,l,u;switch(o.role){case"mon":l="monTransports";break;case"log":l="logTransports";break;default:l="logTransports";break}if(typeof n==="string"){n=n[0].toUpperCase()+n.slice(1);if(f.transports[n]===undefined&&!r.browser){try{a=e("./"+n+".transport.js")}catch(t){try{a=e("logfella-"+i.camelCaseToDashed(n)+"-transport")}catch(t){try{a=e("../../../package.json");if(a.name==="logfella-"+i.camelCaseToDashed(n)+"-transport"){a=e("../../../")}else{return}}catch(e){return}}}if(a.prototype instanceof s||typeof a.create==="function"&&typeof a.prototype.transport==="function"){f.transports[n]=a}else{return}}n=f.transports[n]}if(!n||typeof n.create!=="function"){return}try{u=n.create(this,o)}catch(e){return}this[l].push(u)};f.prototype.removeAllTransports=function e(){var t,r;for(t=0,r=this.logTransports.length;t<r;t++){this.logTransports[t].shutdown()}for(t=0,r=this.monTransports.length;t<r;t++){this.monTransports[t].shutdown()}this.logTransports=[];this.monTransports=[]};var y=false;if(r.browser){f.prototype.installExitHandlers=function e(){}}else{f.prototype.installExitHandlers=function e(){var t=this.root;var i=this.domain||"logfella";if(y){return}y=true;r.on("asyncExit",function(e,r,n){t.info(i,"The process is about to exit within %ims with code %i...",r,e,n)});r.on("exit",function(e){t.info(i,"The process is exiting with code %i...",e)});r.on("uncaughtException",function(e){if(r.listenerCount("uncaughtException")<=1){t.fatal(i,"Uncaught exception: %E",e,function(){n.exit(1)})}else{t.fatal(i,"Uncaught exception: %E",e)}});r.on("SIGINT",function(e){if(r.listenerCount("SIGINT")<=1){t.info(i,"Received a SIGINT signal.",function(){n.exit(130)})}else{t.info(i,"Received a SIGINT signal.")}});r.on("SIGTERM",function(e){if(r.listenerCount("SIGTERM")<=1){t.info(i,"Received a SIGTERM signal.",function(){n.exit(143)})}else{t.info(i,"Received a SIGTERM signal.")}});r.on("SIGHUP",function(e){if(r.listenerCount("SIGHUP")<=1){t.info(i,"Received a SIGHUP signal.",function(){n.exit(129)})}else{t.info(i,"Received a SIGHUP signal.")}})}}var m={trace:console.trace,log:console.log,info:console.info,warn:console.warn,error:console.error,dir:console.dir};var b;f.prototype.replaceConsole=function e(){console.trace=b.bind(this,"trace","console");console.log=b.bind(this,"info","console");console.info=b.bind(this,"info","console");console.warn=b.bind(this,"warning","console");console.error=b.bind(this,"error","console")};f.prototype.restoreConsole=function e(){console.trace=m.trace;console.log=m.log;console.info=m.info;console.warn=m.warn;console.error=m.error};function b(e,t){var r=i.escape.format(o.format.apply(undefined,Array.prototype.slice.call(arguments,2)));return this[e].apply(this,[t,r])}f.configSchema={type:"strictObject",default:{},properties:{minLevel:{in:g,default:3},maxLevel:{in:g,default:6},defaultDomain:{type:"string",default:"no-domain"},overrideConsole:{type:"boolean",default:false},monPeriod:{type:"number",default:null},transports:{type:"array",default:[],of:{type:"strictObject",extraProperties:true,properties:{type:{type:"string"},role:{in:["log","mon"],default:"log"},minLevel:{in:g,default:0},maxLevel:{in:g,default:6},messageFormatter:[{type:"function"},{type:"string",optional:true}],timeFormatter:[{type:"function"},{type:"string",default:"dateTime"}],color:{type:"boolean",default:false}}}}}};f.global=f.create();f.global.setGlobalConfig({minLevel:"trace"});if(r.browser){f.transports.BrowserConsole=e("./BrowserConsole.transport.js");f.global.addTransport("BrowserConsole",{minLevel:"trace"});window.Logfella=f}else{f.global.addTransport("console",{minLevel:"trace",color:true})}}).call(this,e("_process"))},{"../../../":undefined,"../../../package.json":undefined,"./BrowserConsole.transport.js":1,"./messageFormatter.js":3,"./timeFormatter.js":4,_process:17,"async-kit":5,"kung-fig":undefined,"logfella-common-transport":11,os:15,path:16,"string-kit":29,util:40}],3:[function(e,t,r){"use strict";var n=e("string-kit");var i=e("tree-kit");var s={},o={};i.extend({deep:true},o,n.format.default,{format:n.formatMethod,color:true});i.extend({deep:true},s,n.format.default,{format:n.formatMethod});delete s.markup;function a(e,t){var r,i="";if(e.mon){i="\n";if(t){for(r in e.mon){i+=n.ansi.green+r+n.ansi.reset+": "+n.ansi.cyan+e.mon[r]+n.ansi.reset+"\n"}}else{for(r in e.mon){i+=r+": "+e.mon[r]+"\n"}}}else if(Array.isArray(e.messageData)&&e.messageData.isFormat){i=n.formatMethod.apply(t?o:s,e.messageData)}else if(e.messageData instanceof Error){i=n.inspectError({style:t?"color":"none"},e.messageData)}else if(typeof e.messageData!=="string"){i=n.inspect({style:t?"color":"none"},e.messageData)}else{i=n.formatMethod.call(t?o:s,e.messageData)}return i}r.text=function e(t,r){var i,s,o,l="",u="",c="",f="",p="",h="",d="",g="",y="";o="text-"+(this.color?"c-":"!c-")+(this.indent?"i-":"!i-")+(this.includeIdMeta?"im-":"!im-")+(this.includeCommonMeta?"cm-":"!cm-")+(this.includeUserMeta?"um-":"!um-")+this.timeFormatter.name;if(r[o]){return r[o]}d=a(t,this.color);if(this.indent){d=d.replace(/\n/g,"\n    ")}if(this.includeCommonMeta){u=this.color?n.ansi.brightCyan+this.timeFormatter(t.time)+n.ansi.reset+" ":this.timeFormatter(t.time)+" ";if(t.domain&&typeof t.domain==="string"){c=this.color?n.ansi.magenta+"<"+t.domain+">"+n.ansi.reset+" ":"<"+t.domain+"> "}if(t.code!==undefined){p=this.color?n.ansi.green+"#"+t.code+n.ansi.reset+" ":"#"+t.code+" "}switch(t.levelName){case"trace":l=this.color?n.ansi.brightBlack+"[TRACE]"+n.ansi.reset+" ":"[TRACE] ";break;case"debug":l=this.color?n.ansi.dim+"[DEBUG]"+n.ansi.reset+" ":"[DEBUG] ";break;case"verbose":l=this.color?n.ansi.blue+"[VERB.]"+n.ansi.reset+" ":"[VERB.] ";break;case"info":l=this.color?n.ansi.brightWhite+"[INFO.]"+n.ansi.reset+" ":"[INFO.] ";break;case"warning":l=this.color?n.ansi.brightYellow+"[WARN.]"+n.ansi.reset+" ":"[WARN.] ";break;case"error":l=this.color?n.ansi.red+"[ERROR]"+n.ansi.reset+" ":"[ERROR] ";break;case"fatal":l=this.color?n.ansi.brightRed+n.ansi.bold+"[FATAL]"+n.ansi.reset+" ":"[FATAL] ";break;case"mon":l=this.color?n.ansi.cyan+"[ MON ]"+n.ansi.reset+" ":"[ MON ] ";break;default:l=this.color?n.ansi.dim+"["+(t.levelName+".    ").slice(0,5)+"]"+n.ansi.reset+" ":"["+(t.levelName+".    ").slice(0,5)+"] "}}if(this.includeIdMeta){f=this.color?n.ansi.yellow+t.hostname+n.ansi.brightBlack+"("+t.pid+")"+n.ansi.reset+" ":t.hostname+"("+t.pid+") "}if(this.includeUserMeta&&t.meta){h=JSON.stringify(t.meta);if(h==="{}"){h=""}else{h=this.color?n.ansi.blue+h+n.ansi.reset+" ":h+" "}}if(this.includeIdMeta||this.includeCommonMeta||this.includeUserMeta){y=this.color?n.ansi.brightBlack+"--"+n.ansi.reset+" ":"-- "}if("stack"in t){g="\n"+n.inspectStack({style:this.color?"color":"none"},t.stack)}d=l+u+f+c+p+h+y+d+g;r[o]=d;return d};r.json=function e(t,r){var n,i;n="json-"+(this.color?"c-":"!c-");if(r[n]){return r[n]}i=JSON.stringify({app:t.app,time:t.time.getTime(),uptime:t.uptime,pid:t.pid,hostname:t.hostname,domain:t.domain,level:t.level,levelName:t.levelName,code:t.code,mon:t.mon||undefined,meta:t.meta||undefined,messageData:t.mon?undefined:t.messageData,message:t.mon?undefined:a(t,this.color)});r[n]=i;return i}},{"string-kit":29,"tree-kit":37}],4:[function(e,t,r){"use strict";function n(e){return e>=10?e:"0"+e}r.dateTimeMs=function e(t){return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+" "+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)};r.dateTime=function e(t){return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+" "+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())};r.timeMs=function e(t){return n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)};r.time=function e(t){return n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())}},{}],5:[function(e,t,r){"use strict";var n=e("./core.js");t.exports=n;n.wrapper=e("./wrapper.js");n.exit=e("./exit.js");var i=e("./safeTimeout.js");n.setSafeTimeout=i.setSafeTimeout;n.clearSafeTimeout=i.clearSafeTimeout},{"./core.js":6,"./exit.js":7,"./safeTimeout.js":8,"./wrapper.js":9}],6:[function(e,t,r){(function(r,n){"use strict";var i=e("nextgen-events");var s=e("tree-kit/lib/extend.js");var o={};t.exports=o;if(!n.__ASYNC_KIT__){n.__ASYNC_KIT__={recursionCounter:0,defaultMaxRecursion:Infinity}}o.AsyncError=function e(t){Error.call(this);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=t};o.AsyncError.prototype=Object.create(Error.prototype);o.AsyncError.prototype.constructor=o.AsyncError;o.Plan=function e(){throw new Error("[async] Cannot create an async Plan object directly")};o.Plan.prototype.constructor=o.Plan;var a={parallelLimit:{value:1,writable:true,enumerable:true,configurable:true},raceMode:{value:false,writable:true,enumerable:true,configurable:true},waterfallMode:{value:false,writable:true,enumerable:true,configurable:true},waterfallTransmitError:{value:false,writable:true,enumerable:true,configurable:true},whileAction:{value:undefined,writable:true,enumerable:true,configurable:true},whileActionBefore:{value:false,writable:true,enumerable:true,configurable:true},errorsAreFatal:{value:true,writable:true,enumerable:true,configurable:true},returnMapping1to1:{value:false,writable:true,enumerable:true,configurable:true},maxRecursion:{value:Infinity,writable:true,enumerable:true},jobsData:{value:{},writable:true,enumerable:true},jobsKeys:{value:[],writable:true,enumerable:true},jobsUsing:{value:undefined,writable:true,enumerable:true},jobsTimeout:{value:undefined,writable:true,enumerable:true},useSafeTimeout:{value:false,writable:true,enumerable:true},returnLastJobOnly:{value:false,writable:true,enumerable:true},defaultAggregate:{value:undefined,writable:true,enumerable:true},returnAggregate:{value:false,writable:true,enumerable:true},transmitAggregate:{value:false,writable:true,enumerable:true},usingIsIterator:{value:false,writable:true,enumerable:true},thenAction:{value:undefined,writable:true,enumerable:true},catchAction:{value:undefined,writable:true,enumerable:true},finallyAction:{value:undefined,writable:true,enumerable:true},asyncEventNice:{value:-20,writable:true,enumerable:true},maxRetry:{value:0,writable:true,enumerable:true},retryTimeout:{value:0,writable:true,enumerable:true},retryMultiply:{value:1,writable:true,enumerable:true},retryMaxTimeout:{value:Infinity,writable:true,enumerable:true},execMappingMinInputs:{value:0,writable:true,enumerable:true},execMappingMaxInputs:{value:100,writable:true,enumerable:true},execMappingCallbacks:{value:["finally"],writable:true,enumerable:true},execMappingAggregateArg:{value:false,writable:true,enumerable:true},execMappingMinArgs:{value:0,writable:true,enumerable:true},execMappingMaxArgs:{value:101,writable:true,enumerable:true},execMappingSignature:{value:"( [finallyCallback] )",writable:true,enumerable:true},locked:{value:false,writable:true,enumerable:true}};o.do=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(r)}});r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;r.do(t);return r};o.parallel=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{parallelLimit:{value:Infinity,writable:true,enumerable:true},execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(r)}});r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;r.do(t);return r};o.series=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{parallelLimit:{value:1,enumerable:true},execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(r)}});r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;r.do(t);return r};o.race=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{raceMode:{value:true,enumerable:true},parallelLimit:{value:Infinity,writable:true,enumerable:true},errorsAreFatal:{value:false,writable:true,enumerable:true},execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(r)}});r.returnLastJobOnly=true;r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;r.do(t);return r};o.waterfall=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{waterfallMode:{value:true,enumerable:true},waterfallTransmitError:{value:false,writable:true,enumerable:true},parallelLimit:{value:1,enumerable:true},execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(r)}});r.returnLastJobOnly=true;r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;r.do(t);return r};o.foreach=o.forEach=function e(t,r){var i=Object.create(o.Plan.prototype,a);Object.defineProperties(i,{usingIsIterator:{value:true,writable:true,enumerable:true},errorsAreFatal:{value:false,writable:true,enumerable:true},execInit:{value:l.bind(i)},execNext:{value:u.bind(i)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(i)}});i.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;i.do(t);i.iterator(r);return i};o.map=function e(t,r){var i=Object.create(o.Plan.prototype,a);Object.defineProperties(i,{parallelLimit:{value:Infinity,writable:true,enumerable:true},usingIsIterator:{value:true,writable:true,enumerable:true},errorsAreFatal:{value:false,writable:true,enumerable:true},returnMapping1to1:{value:true,writable:false,enumerable:true},execInit:{value:l.bind(i)},execNext:{value:u.bind(i)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(i)}});i.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;i.do(t);i.iterator(r);return i};o.reduce=function e(t,r,i){var s=Object.create(o.Plan.prototype,a);Object.defineProperties(s,{parallelLimit:{value:1,writable:false,enumerable:true},usingIsIterator:{value:true,writable:true,enumerable:true},execInit:{value:l.bind(s)},execNext:{value:u.bind(s)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(s)}});if(arguments.length<3){i=r;r=undefined;s.execMappingMinInputs=0;s.execMappingMaxInputs=100;s.execMappingCallbacks=["finally"];s.execMappingAggregateArg=true;s.execMappingMinArgs=1;s.execMappingMaxArgs=102;s.execMappingSignature="( aggregateArg, [finallyCallback] )"}s.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;s.transmitAggregate=true;s.returnAggregate=true;s.defaultAggregate=r;s.do(t);s.iterator(i);return s};o.while=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{waterfallMode:{value:false,enumerable:true},whileAction:{value:undefined,writable:true,enumerable:true},whileActionBefore:{value:true,writable:false,enumerable:true},execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(r)}});r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;r.while(t);return r};o.and=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{elseAction:{value:undefined,writable:true,enumerable:true},castToBoolean:{value:false,writable:true,enumerable:true},useLogicAnd:{value:true},execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:h},execLoopCallback:{value:f},execFinal:{value:d.bind(r)}});r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;r.do(t);return r};o.or=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{elseAction:{value:undefined,writable:true,enumerable:true},castToBoolean:{value:false,writable:true,enumerable:true},useLogicAnd:{value:false},execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:h},execLoopCallback:{value:f},execFinal:{value:d.bind(r)}});r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;r.do(t);return r};o.if=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{elseAction:{value:true,writable:true,enumerable:true},castToBoolean:{value:true,writable:true,enumerable:true},useLogicAnd:{value:true},execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:h},execLoopCallback:{value:f},execFinal:{value:d.bind(r)}});r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;if(t){r.do(t)}return r};o.if.and=o.if;o.if.or=function e(t){var r=Object.create(o.Plan.prototype,a);Object.defineProperties(r,{elseAction:{value:true,writable:true,enumerable:true},castToBoolean:{value:true,writable:true,enumerable:true},useLogicAnd:{value:false},execInit:{value:l.bind(r)},execNext:{value:u.bind(r)},execCallback:{value:h},execLoopCallback:{value:f},execFinal:{value:d.bind(r)}});r.maxRecursion=n.__ASYNC_KIT__.defaultMaxRecursion;if(t){r.do(t)}return r};o.callTimeout=function e(t,r,n,i){if(typeof n!=="function"){throw new Error("[async] async.callTimeout(): argument #0 should be a function")}var s=Object.create(o.Plan.prototype,a);Object.defineProperties(s,{returnLastJobOnly:{value:true,enumerable:true},jobsTimeout:{value:t,writable:true,enumerable:true},execInit:{value:l.bind(s)},execNext:{value:u.bind(s)},execCallback:{value:c},execLoopCallback:{value:f},execFinal:{value:p.bind(s)}});var h=[n.bind(i)].concat(Array.prototype.slice.call(arguments,4));s.do([h]);return s.exec(r)};o.Plan.prototype.do=function e(t){if(this.locked){return this}if(t&&typeof t==="object"){this.jobsData=t}else if(typeof t==="function"){this.jobsData=[t];this.returnLastJobOnly=true}else{this.jobsData={}}this.jobsKeys=Object.keys(this.jobsData);if(Array.isArray(this.jobsData)){this.jobsKeys.length=this.jobsData.length}return this};o.Plan.prototype.parallel=function e(t){if(this.locked){return this}if(t===undefined||t===true){this.parallelLimit=Infinity}else if(t===false){this.parallelLimit=1}else if(typeof t==="number"){this.parallelLimit=t}return this};o.Plan.prototype.race=function e(t){if(!this.locked){this.raceMode=t||t===undefined?true:false}return this};o.Plan.prototype.waterfall=function e(t){if(!this.locked){this.waterfallMode=t||t===undefined?true:false}return this};o.Plan.prototype.while=function e(t,r){if(this.locked){return this}this.whileAction=t;if(r!==undefined){this.whileActionBefore=r?true:false}return this};o.Plan.prototype.repeat=function e(t){if(this.locked){return this}var r=0;if(typeof t!=="number"){t=parseInt(t)}this.whileActionBefore=true;this.whileAction=function(e,n,i){r++;i(r<=t)};return this};o.Plan.prototype.fatal=function e(t){if(!this.locked){this.errorsAreFatal=t||t===undefined?true:false}return this};o.Plan.prototype.boolean=function e(t){if(!this.locked){this.castToBoolean=t||t===undefined?true:false}return this};o.Plan.prototype.transmitError=function e(t){if(!this.locked){this.waterfallTransmitError=t||t===undefined?true:false}return this};o.Plan.prototype.timeout=function e(t){if(!this.locked){if(typeof t==="number"){this.jobsTimeout=t}else{this.jobsTimeout=undefined}}return this};o.Plan.prototype.safeTimeout=function e(t){if(!this.locked){this.useSafeTimeout=t===undefined?true:!!t}};o.Plan.prototype.retry=function e(t,r,n,i){if(this.locked){return this}if(typeof t==="number"){this.maxRetry=t}if(typeof r==="number"){this.retryTimeout=r}if(typeof n==="number"){this.retryMultiply=n}if(typeof i==="number"){this.retryMaxTimeout=i}return this};o.Plan.prototype.lastJobOnly=function e(t){if(!this.locked){this.returnLastJobOnly=t||t===undefined?true:false}return this};o.Plan.prototype.mapping1to1=function e(t){if(!this.locked){this.returnMapping1to1=t||t===undefined?true:false}return this};o.Plan.prototype.using=function e(t){if(!this.locked){this.jobsUsing=t}return this};o.Plan.prototype.iterator=function e(t){if(this.locked){return this}this.jobsUsing=t;this.usingIsIterator=true;return this};o.Plan.prototype.aggregator=function e(t,r,n){if(!this.locked){return this}this.transmitAggregate=t||t===undefined?true:false;this.returnAggregate=r||r===undefined?true:false;if(arguments.length>2){this.defaultAggregate=n}return this};o.Plan.prototype.usingIterator=function e(t){if(!this.locked){this.usingIsIterator=t||t===undefined?true:false}return this};o.Plan.prototype.nice=function e(t){if(this.locked){return this}if(t===undefined||t===null||t===true){this.asyncEventNice=-1}else if(t===false){this.asyncEventNice=-20}else{this.asyncEventNice=t}return this};o.Plan.prototype.setMaxRecursion=function e(t){if(this.locked){return this}if(t>=0){this.maxRecursion=t}return this};o.Plan.prototype.then=function e(t){if(!this.locked){this.thenAction=t}return this};o.Plan.prototype.else=function e(t){if(!this.locked){this.elseAction=t||true}return this};o.Plan.prototype.catch=function e(t){if(!this.locked){this.catchAction=t||true}return this};o.Plan.prototype.finally=function e(t){if(!this.locked){this.finallyAction=t||true}return this};o.Plan.prototype.clone=function e(){var t=Object.create(o.Plan.prototype,a);s(null,t,this);t.locked=false;return t};o.Plan.prototype.export=function e(t){switch(t){case"execFinally":return this.clone().execFinally.bind(this);case"execThenCatch":return this.clone().execThenCatch.bind(this);case"execThenElse":return this.clone().execThenElse.bind(this);case"execThenElseCatch":return this.clone().execThenElseCatch.bind(this);case"execArgs":return this.clone().execArgs.bind(this);case"execKV":return this.clone().execKV.bind(this);default:return this.clone().exec.bind(this)}};o.Plan.prototype.exec=function e(){var t={inputs:[],callbacks:{}},r=0,n;if(arguments.length<this.execMappingMinArgs){throw new Error("[async] Too few arguments, in this instance, the function signature is: fn"+this.execMappingSignature)}else if(arguments.length>this.execMappingMaxArgs){throw new Error("[async] Too much arguments, in this instance, the function signature is: fn"+this.execMappingSignature)}if(this.execMappingAggregateArg){r++;t.aggregate=arguments[0]}if(this.execMappingMinInputs===this.execMappingMaxInputs){t.inputs=Array.prototype.slice.call(arguments,r,this.execMappingMaxInputs+r);for(n=0;n<this.execMappingCallbacks.length&&t.inputs.length+n<arguments.length;n++){t.callbacks[this.execMappingCallbacks[n]]=arguments[t.inputs.length+r+n]}}else{t.inputs=Array.prototype.slice.call(arguments,r,-this.execMappingCallbacks.length);for(n=0;n<this.execMappingCallbacks.length;n++){t.callbacks[this.execMappingCallbacks[n]]=arguments[t.inputs.length+r+n]}}return this.execInit(t)};o.Plan.prototype.execFinally=function e(t){return this.execInit({inputs:[],callbacks:{finally:t}})};o.Plan.prototype.execThenCatch=function e(t,r,n){return this.execInit({inputs:[],callbacks:{then:t,catch:r,finally:n}})};o.Plan.prototype.execThenElse=function e(t,r,n){return this.execInit({inputs:[],callbacks:{then:t,else:r,finally:n}})};o.Plan.prototype.execThenElseCatch=function e(t,r,n,i){return this.execInit({inputs:[],callbacks:{then:t,else:r,catch:n,finally:i}})};o.Plan.prototype.execArgs=function e(){return this.execInit({inputs:arguments,callbacks:{}})};o.Plan.prototype.execMapping=function e(t){if(this.locked){return this}t=s(null,{minInputs:0,maxInputs:0},t);var r,n,i=5;t.minInputs=parseInt(t.minInputs);t.maxInputs=parseInt(t.maxInputs);if(t.minInputs<t.maxInputs){this.execMappingMinInputs=t.minInputs;this.execMappingMaxInputs=t.maxInputs}else{this.execMappingMinInputs=t.maxInputs;this.execMappingMaxInputs=t.minInputs}this.execMappingCallbacks=Array.isArray(t.callbacks)?t.callbacks:[];this.execMappingInputsName=Array.isArray(t.inputsName)?t.inputsName:[];this.execMappingSignature="( ";if(this.execMappingMinInputs===this.execMappingMaxInputs){this.execMappingMinArgs=this.execMappingMinInputs;this.execMappingMaxArgs=this.execMappingMaxInputs+this.execMappingCallbacks.length;if(t.aggregateArg){this.execMappingAggregateArg=t.aggregateArg;this.execMappingMinArgs++;this.execMappingMaxArgs++;this.execMappingSignature+="aggregateValue"}for(r=0;r<this.execMappingMaxInputs;r++){if(r>0||t.aggregateArg){this.execMappingSignature+=", "}if(r>=i&&typeof this.execMappingInputsName[r]!=="string"){this.execMappingSignature+="... ";break}this.execMappingSignature+=typeof this.execMappingInputsName[r]==="string"?this.execMappingInputsName[r]:"arg#"+(r+1)}for(n=0;n<this.execMappingCallbacks.length;n++){if(r+n>0||t.aggregateArg){this.execMappingSignature+=", "}this.execMappingSignature+="["+this.execMappingCallbacks[n]+"Callback]"}}else{this.execMappingMinArgs=this.execMappingMinInputs+this.execMappingCallbacks.length;this.execMappingMaxArgs=this.execMappingMaxInputs+this.execMappingCallbacks.length;if(t.aggregateArg){this.execMappingAggregateArg=t.aggregateArg;this.execMappingMinArgs++
;this.execMappingMaxArgs++;this.execMappingSignature+="aggregateValue"}for(r=0;r<this.execMappingMaxInputs;r++){if(r>0||t.aggregateArg){this.execMappingSignature+=", "}if(r<this.execMappingMinInputs){if(r>=i&&typeof this.execMappingInputsName[r]!=="string"){this.execMappingSignature+="... ";break}this.execMappingSignature+=typeof this.execMappingInputsName[r]==="string"?this.execMappingInputsName[r]:"arg#"+(r+1)}else{if(r>=i&&typeof this.execMappingInputsName[r]!=="string"){this.execMappingSignature+="[...] ";break}this.execMappingSignature+="["+(typeof this.execMappingInputsName[r]==="string"?this.execMappingInputsName[r]:"arg#"+(r+1))+"]"}}for(n=0;n<this.execMappingCallbacks.length;n++){if(r+n>0||t.aggregateArg){this.execMappingSignature+=", "}this.execMappingSignature+=this.execMappingCallbacks[n]+"Callback"}}this.execMappingSignature+=" )";return this};o.Plan.prototype.execKV=function e(t){if(t.inputs===undefined){t.inputs=[]}else if(!Array.isArray(t.inputs)){t.inputs=[t.inputs]}if(t.callbacks===undefined||typeof t.callbacks!=="object"){t.callbacks={}}if(t.then){t.callbacks.then=t.then}if(t.else){t.callbacks.else=t.else}if(t.catch){t.callbacks.catch=t.catch}if(t.finally){t.callbacks.finally=t.finally}return this.execInit(t)};o.Plan.prototype.execLoop=function e(t){return this.execInit({},t)};o.Plan.prototype.execJob=function e(t,r,n,i){var a=this,l,u=t.jobsKeys[n];var c=Object.create(o.JobContext.prototype,{execContext:{value:t,enumerable:true},indexOfKey:{value:n,enumerable:true},tryIndex:{value:i,enumerable:true},aborted:{value:false,writable:true,enumerable:true},abortedLoop:{value:false,writable:true,enumerable:true}});Object.defineProperty(c,"callback",{value:this.execCallback.bind(this,c),enumerable:true});Object.defineProperty(c.callback,"jobContext",{value:c,enumerable:true});t.jobsStatus[u].status="pending";t.jobsStatus[u].tried++;if(typeof this.jobsUsing==="function"){if(this.usingIsIterator){if(this.transmitAggregate){if(this.jobsUsing.length<=3){this.jobsUsing.call(c,t.aggregate,r,c.callback)}else if(this.jobsUsing.length<=4){this.jobsUsing.call(c,t.aggregate,r,Array.isArray(t.jobsData)?n:u,c.callback)}else{this.jobsUsing.call(c,t.aggregate,r,Array.isArray(t.jobsData)?n:u,t.jobsData,c.callback)}}else{if(this.jobsUsing.length<=2){this.jobsUsing.call(c,r,c.callback)}else if(this.jobsUsing.length<=3){this.jobsUsing.call(c,r,Array.isArray(t.jobsData)?n:u,c.callback)}else{this.jobsUsing.call(c,r,Array.isArray(t.jobsData)?n:u,t.jobsData,c.callback)}}}else if(Array.isArray(r)){l=r.slice();if(this.transmitAggregate){l.unshift(t.aggregate)}l.push(c.callback);this.jobsUsing.apply(c,l)}else{this.jobsUsing.call(c,r,c.callback)}}else if(typeof r==="function"){if(this.waterfallMode&&n>0){l=t.results[t.jobsKeys[n-1]].slice(this.waterfallTransmitError?0:1);l.push(c.callback);r.apply(c,l)}else if(Array.isArray(this.jobsUsing)||this.execMappingMaxInputs){if(Array.isArray(this.jobsUsing)){l=s(null,[],this.jobsUsing,t.execInputs)}else{l=s(null,[],t.execInputs)}l.push(c.callback);r.apply(c,l)}else{r.call(c,c.callback)}}else if(Array.isArray(r)&&typeof r[0]==="function"){l=r.slice(1);l.push(c.callback);r[0].apply(c,l)}else if(typeof r==="object"&&r instanceof o.Plan){r.exec(c.callback)}else{this.execCallback.call(this,c);return this}if(t.jobsTimeoutTimers[u]!==undefined){clearTimeout(t.jobsTimeoutTimers[u]);t.jobsTimeoutTimers[u]=undefined}if(t.retriesTimers[u]!==undefined){clearTimeout(t.retriesTimers[u]);t.retriesTimers[u]=undefined}if(typeof this.jobsTimeout==="number"&&this.jobsTimeout!==Infinity){t.jobsTimeoutTimers[u]=setTimeout(function(){t.jobsTimeoutTimers[u]=undefined;t.jobsStatus[u].status="timeout";c.emit("timeout");a.execCallback.call(a,c,new o.AsyncError("jobTimeout"))},this.jobsTimeout)}return this};o.Plan.prototype.execAction=function e(t,r,n){if(typeof r==="function"){r.apply(t,n)}else if(typeof r==="object"&&r instanceof o.Plan){r.exec()}};o.JobContext=function e(){throw new Error("[async] Cannot create an async JobContext object directly")};o.JobContext.prototype=Object.create(i.prototype);o.JobContext.prototype.constructor=o.JobContext;o.JobContext.prototype.abort=function e(){this.aborted=true;this.callback.apply(undefined,arguments)};o.JobContext.prototype.abortLoop=function e(){this.aborted=true;this.abortedLoop=true;this.callback.apply(undefined,arguments)};o.ExecContext=function e(){throw new Error("[async] Cannot create an async ExecContext object directly")};o.ExecContext.prototype=Object.create(i.prototype);o.ExecContext.prototype.constructor=o.ExecContext;o.ExecContext.prototype.getJobsStatus=function e(){var t,r,n=Array.isArray(this.jobsData)?[]:{};for(t=0;t<this.jobsKeys.length;t++){r=this.jobsKeys[t];n[r]=s(null,{job:this.jobsData[r],result:this.results[r]},this.jobsStatus[r])}return n};function l(e,t){var r,n,i=Array.isArray(this.jobsData);if(t&&t.whileIterator===-1){n=t;n.whileIterator=0}else{n=Object.create(o.ExecContext.prototype,{plan:{value:this},aggregate:{value:"aggregate"in e?e.aggregate:this.defaultAggregate,writable:true,enumerable:true},results:{value:i?[]:{},writable:true,enumerable:true},result:{value:undefined,writable:true,enumerable:true},jobsTimeoutTimers:{value:i?[]:{},writable:true},jobsStatus:{value:i?[]:{},writable:true,enumerable:true},retriesTimers:{value:i?[]:{},writable:true},retriesCounter:{value:i?[]:{},writable:true,enumerable:true},tryUserResponseCounter:{value:i?[]:{},writable:true,enumerable:true},tryResponseCounter:{value:i?[]:{},writable:true,enumerable:true},iterator:{value:0,writable:true,enumerable:true},pending:{value:0,writable:true,enumerable:true},resolved:{value:0,writable:true,enumerable:true},ok:{value:0,writable:true,enumerable:true},failed:{value:0,writable:true,enumerable:true},status:{value:undefined,writable:true,enumerable:true},error:{value:undefined,writable:true,enumerable:true},statusTriggerJobsKey:{value:undefined,writable:true,enumerable:true},whileStatus:{value:undefined,writable:true},whileChecked:{value:false,writable:true}});if(!t){Object.defineProperties(n,{root:{value:n,enumerable:true},jobsData:{value:i?this.jobsData.slice(0):s(null,{},this.jobsData),enumerable:true},jobsKeys:{value:this.jobsKeys.slice(0),enumerable:true},execInputs:{value:e.inputs,enumerable:true},execCallbacks:{value:e.callbacks},whileIterator:{value:0,enumerable:true,writable:true}})}else{Object.defineProperties(n,{root:{value:t.root,enumerable:true},jobsData:{value:t.jobsData,enumerable:true},jobsKeys:{value:t.jobsKeys,enumerable:true},execInputs:{value:t.execInputs,enumerable:true},execCallbacks:{value:t.execCallbacks},whileIterator:{value:t.whileIterator+1,enumerable:true,writable:true}})}Object.defineProperties(n,{waiting:{value:n.jobsKeys.length,writable:true,enumerable:true}});for(r=0;r<n.jobsKeys.length;r++){n.jobsStatus[n.jobsKeys[r]]={status:"waiting",errors:[],tried:0}}n.setNice(this.asyncEventNice);if(t===undefined){n.root.on("resolved",this.execFinal.bind(this,n));if(typeof this.whileAction==="function"){n.root.on("while",this.whileAction.bind(this));n.root.on("nextLoop",this.execLoop.bind(this))}else{this.whileAction=undefined;n.whileStatus=false}n.root.on("next",this.execNext.bind(this));if(this.whileAction&&this.whileActionBefore){n.whileIterator=-1;n.root.emit("while",n.error,n.results,this.execLoopCallback.bind(this,n),null);return this}}}if(n.jobsKeys.length<=0){n.root.emit("resolved",n.error,n.results);n.root.emit("progress",{resolved:n.resolved,ok:n.ok,failed:n.failed,pending:n.pending,waiting:n.waiting,loop:n.whileIterator},n.error,n.results);n.root.emit("finish",n.error,n.results);return n.root}n.root.emit("next",n);return n.root}function u(e){if(n.__ASYNC_KIT__.recursionCounter>=e.plan.maxRecursion){r.nextTick(u.bind(this,e));return}var t=this,i,s,o=e.jobsKeys.length,a,l;a=e.iterator;for(;e.iterator<o&&e.pending<this.parallelLimit;e.iterator++){e.pending++;e.waiting--;i=e.iterator;s=e.jobsKeys[i];e.retriesCounter[s]=0;e.tryResponseCounter[s]=[];e.tryResponseCounter[s][0]=0;e.tryUserResponseCounter[s]=[];e.tryUserResponseCounter[s][0]=0;e.results[s]=undefined;l=e.iterator}for(i=a;i<=l;i++){n.__ASYNC_KIT__.recursionCounter++;this.execJob(e,e.jobsData[e.jobsKeys[i]],i,0);n.__ASYNC_KIT__.recursionCounter--}}function c(e,t){var r=e.execContext,n=e.aborted,i=e.abortedLoop,s=e.indexOfKey,a=e.tryIndex;var l=this,u,c,f=r.jobsKeys.length,p=r.jobsKeys[s];var h=false,d=false,g=false,y=false;r.tryResponseCounter[p][a]++;if(!(t instanceof o.AsyncError)){r.tryUserResponseCounter[p][a]++}if(r.jobsTimeoutTimers[p]!==undefined){clearTimeout(r.jobsTimeoutTimers[p]);r.jobsTimeoutTimers[p]=undefined}if(r.retriesTimers[p]!==undefined){clearTimeout(r.retriesTimers[p]);r.retriesTimers[p]=undefined}if(r.tryUserResponseCounter[p][a]>1){r.jobsStatus[p].errors.push(new Error("This job has called its completion callback "+r.tryUserResponseCounter[p][a]+" times"));return}if(!n&&r.results[p]!==undefined){return}if(!n&&t&&this.maxRetry>r.retriesCounter[p]&&r.tryResponseCounter[p][a]<=1){r.jobsStatus[p].errors.push(t);u=this.retryTimeout*Math.pow(this.retryMultiply,r.retriesCounter[p]);if(u>this.retryMaxTimeout){u=this.retryMaxTimeout}r.retriesCounter[p]++;c=r.retriesCounter[p];r.retriesTimers[p]=setTimeout(function(){r.retriesTimers[p]=undefined;r.tryResponseCounter[p][c]=0;r.tryUserResponseCounter[p][c]=0;l.execJob(r,r.jobsData[p],s,c)},u);return}if(!n&&t&&a<r.retriesCounter[p]){return}r.resolved++;r.pending--;r.aggregate=arguments[2];if(n){r.failed++;r.jobsStatus[p].status="aborted"}else if(t){r.failed++;r.jobsStatus[p].errors.push(t);if(t instanceof o.AsyncError&&t.message==="jobTimeout"){r.jobsStatus[p].status="timeout"}else{r.jobsStatus[p].status="failed"}}else{r.ok++;r.jobsStatus[p].status="ok"}if(this.returnMapping1to1){r.results[p]=arguments[2]}else{r.results[p]=Array.prototype.slice.call(arguments,1)}if(r.status===undefined){if(this.raceMode&&!t){r.status="ok";r.statusTriggerJobsKey=p;if(this.whileAction&&!i){y=true}else{d=true}}else if(!this.raceMode&&t&&this.errorsAreFatal){r.status="fail";r.error=t;r.statusTriggerJobsKey=p;if(this.whileAction&&!i){y=true}else{d=true}}else if(n){r.status="aborted";r.statusTriggerJobsKey=p;if(this.whileAction&&!i){y=true}else{d=true}}}if(r.resolved>=f){if(r.status===undefined){if(this.raceMode){r.status="fail"}else{r.status="ok"}r.statusTriggerJobsKey=p;if(this.whileAction){y=true}else{d=g=true}}else{if(!this.whileAction||r.whileChecked&&r.whileStatus!==true){g=true}}}else if(r.status===undefined){if(r.iterator<f){h=true}}else if(r.pending<=0){if(!this.whileAction||r.whileChecked&&r.whileStatus!==true){g=true}}if(d){r.root.emit("resolved",r.error,r.results)}if(h){r.root.emit("next",r)}if(y){r.root.emit("while",r.error,r.results,this.execLoopCallback.bind(this,r),null)}r.root.emit("progress",{resolved:r.resolved,ok:r.ok,failed:r.failed,pending:r.pending,waiting:r.waiting,loop:r.whileIterator},r.error,r.results);if(g){r.root.emit("finish",r.error,r.results)}}function f(e){var t,r;var n=false,i=false,s=false;if(arguments.length<=1){t=undefined;r=false}else if(arguments[1]instanceof Error){e.error=arguments[1];t=arguments[1];r=false}else if(arguments.length<=2){t=arguments[1];r=t?true:false}else{t=arguments[2];r=t?true:false}if(r){e.whileStatus=true;n=true}else{e.whileStatus=false;i=true;if(e.pending<=0){s=true}}if(i){e.root.emit("resolved",e.error,e.results)}if(n){e.root.emit("nextLoop",e)}if(s){e.root.emit("finish",e.error,e.results)}e.whileChecked=true}function p(e,t,r){var n;if(t){if(this.returnAggregate){n=[t,e.aggregate]}else if(this.returnLastJobOnly){n=r[e.statusTriggerJobsKey]}else{n=[t,r]}if(this.catchAction){this.execAction(e,this.catchAction,n)}if(t&&e.execCallbacks.catch){this.execAction(e,e.execCallbacks.catch,n)}}else{if(this.returnAggregate){n=[e.aggregate]}else if(this.returnLastJobOnly){n=r[e.statusTriggerJobsKey].slice(1)}else{n=[r]}if(this.thenAction){this.execAction(e,this.thenAction,n)}if(e.execCallbacks.then){this.execAction(e,e.execCallbacks.then,n)}}if(this.returnAggregate){n=[t,e.aggregate]}else if(this.returnLastJobOnly){n=r[e.statusTriggerJobsKey]}else{n=[t,r]}if(this.finallyAction){this.execAction(e,this.finallyAction,n)}if(e.execCallbacks.finally){this.execAction(e,e.execCallbacks.finally,n)}}function h(e){var t=e.execContext,r=e.indexOfKey,n=e.tryIndex;var i=this,s,a,l,u,c=t.jobsKeys.length,f=t.jobsKeys[r];var p=false,h=false,d=false;if(arguments.length<=1){t.result=undefined;s=false}else if(arguments[1]instanceof Error){t.error=u=arguments[1];t.result=arguments[1];s=false}else if(arguments.length<=2){t.result=arguments[1];s=t.result?true:false}else{t.result=arguments[2];s=t.result?true:false}t.tryResponseCounter[f][n]++;if(!(u instanceof o.AsyncError)){t.tryUserResponseCounter[f][n]++}if(t.jobsTimeoutTimers[f]!==undefined){clearTimeout(t.jobsTimeoutTimers[f]);t.jobsTimeoutTimers[f]=undefined}if(t.retriesTimers[f]!==undefined){clearTimeout(t.retriesTimers[f]);t.retriesTimers[f]=undefined}if(t.results[f]!==undefined){return}if(t.tryUserResponseCounter[f][n]>1){return}if(u&&this.maxRetry>t.retriesCounter[f]&&t.tryResponseCounter[f][n]<=1){a=this.retryTimeout*Math.pow(this.retryMultiply,t.retriesCounter[f]);if(a>this.retryMaxTimeout){a=this.retryMaxTimeout}t.retriesCounter[f]++;l=t.retriesCounter[f];t.retriesTimers[f]=setTimeout(function(){t.retriesTimers[f]=undefined;t.tryResponseCounter[f][l]=0;t.tryUserResponseCounter[f][l]=0;i.execJob(t,t.jobsData[f],r,l)},a);return}if(u&&n<t.retriesCounter[f]){return}t.resolved++;t.pending--;if(u){t.failed++;if(u instanceof o.AsyncError&&u.message==="jobTimeout"){t.jobsStatus[f].status="timeout"}else{t.jobsStatus[f].status="failed"}}else{t.ok++;t.jobsStatus[f].status="ok"}if(this.castToBoolean&&(!(t.result instanceof Error)||!this.catchAction)){t.result=s}t.results[f]=t.result;if(s!==this.useLogicAnd&&t.status===undefined){t.status=!this.useLogicAnd;h=true}if(t.resolved>=c){if(t.status===undefined){t.status=this.useLogicAnd;h=true}d=true}else if(t.status===undefined){if(t.iterator<c){p=true}}else if(t.pending<=0){d=true}if(h){t.root.emit("resolved",t.result)}if(p){t.root.emit("next",t)}t.root.emit("progress",{resolved:t.resolved,pending:t.pending,waiting:t.waiting,loop:t.whileIterator},t.result);if(d){t.root.emit("finish",t.result)}}function d(e,t){if(t instanceof Error){if(this.catchAction){this.execAction(e,this.catchAction,[t])}else if(this.elseAction){this.execAction(e,this.elseAction,[t])}}else if(!e.result&&this.elseAction){this.execAction(e,this.elseAction,[t])}else if(e.result&&this.thenAction){this.execAction(e,this.thenAction,[t])}if(this.finallyAction){this.execAction(e,this.finallyAction,[t])}if(t instanceof Error){if(e.execCallbacks.catch){this.execAction(e,e.execCallbacks.catch,[t])}else if(e.execCallbacks.else){this.execAction(e,e.execCallbacks.else,[t])}}else if(!e.result&&e.execCallbacks.else){this.execAction(e,e.execCallbacks.else,[t])}else if(e.result&&e.execCallbacks.then){this.execAction(e,e.execCallbacks.then,[t])}if(e.execCallbacks.finally){this.execAction(e,e.execCallbacks.finally,[t])}}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:17,"nextgen-events":12,"tree-kit/lib/extend.js":33}],7:[function(e,t,r){(function(r){"use strict";var n=e("./async.js");var i=false;function s(e,t){if(i){return}i=true;var s=r.listeners("asyncExit");if(!s.length){r.exit(e);return}if(t===undefined){t=1e3}n.parallel(s).using(function(r,n){if(r.length<3){r(e,t);n()}else{r(e,t,n)}}).fatal(false).timeout(t).exec(function(){r.exit(e)})}t.exports=s}).call(this,e("_process"))},{"./async.js":5,_process:17}],8:[function(e,t,r){"use strict";r.setSafeTimeout=function e(t,r){var n={isSafeTimeout:true};n.timer=setTimeout(function(){n.timer=setTimeout(function(){n.timer=setTimeout(function(){n.timer=setTimeout(t,0)},r/2)},r/2)},0);return n};r.clearSafeTimeout=function e(t){if(t&&typeof t==="object"&&t.isSafeTimeout){clearTimeout(t.timer)}else{clearTimeout(t)}}},{}],9:[function(e,t,r){"use strict";var n={};t.exports=n;n.timeout=function e(t,r,n){var i=function(){var e=n||this,i=false,s=Array.prototype.slice.call(arguments),o=s.pop();var a=function(){if(i){return}i=true;o.apply(e,arguments)};s.push(a);t.apply(e,s);setTimeout(a.bind(undefined,new Error("Timeout")),r)};return i}},{}],10:[function(e,t,r){t.exports=function(e){return e!=null&&(n(e)||i(e)||!!e._isBuffer)};function n(e){return!!e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function i(e){return typeof e.readFloatLE==="function"&&typeof e.slice==="function"&&n(e.slice(0,0))}},{}],11:[function(e,t,r){"use strict";function n(){throw new Error("[logger] Cannot create a CommonTransport object directly")}t.exports=n;n.create=function e(t,r){var i=Object.create(n.prototype);i.init(t,r);return i};n.prototype.init=function e(t,r){Object.defineProperties(this,{logger:{value:t,enumerable:true},monitoring:{value:false,writable:true,enumerable:true},minLevel:{value:0,writable:true,enumerable:true},maxLevel:{value:6,writable:true,enumerable:true},messageFormatter:{value:t.messageFormatter.text,writable:true,enumerable:true},timeFormatter:{value:t.timeFormatter.dateTime,writable:true,enumerable:true}});if(r){this.setConfig(r)}};n.prototype.setConfig=function e(t){if(t.monitoring!==undefined){this.monitoring=!!t.monitoring}if(t.minLevel!==undefined){if(typeof t.minLevel==="number"){this.minLevel=t.minLevel}else if(typeof t.minLevel==="string"){this.minLevel=this.logger.levelHash[t.minLevel]}}if(t.maxLevel!==undefined){if(typeof t.maxLevel==="number"){this.maxLevel=t.maxLevel}else if(typeof t.maxLevel==="string"){this.maxLevel=this.logger.levelHash[t.maxLevel]}}if(t.messageFormatter){if(typeof t.messageFormatter==="function"){this.messageFormatter=t.messageFormatter}else{this.messageFormatter=this.logger.messageFormatter[t.messageFormatter]}}if(t.timeFormatter){if(typeof t.timeFormatter==="function"){this.timeFormatter=t.timeFormatter}else{this.timeFormatter=this.logger.timeFormatter[t.timeFormatter]}}};n.prototype.transport=function e(t,r,n){n()};n.prototype.shutdown=function e(){}},{}],12:[function(e,t,r){(function(r){"use strict";function n(){return Object.create(n.prototype)}t.exports=n;n.prototype.__prototypeUID__="nextgen-events/NextGenEvents";n.prototype.__prototypeVersion__=e("../package.json").version;n.SYNC=-Infinity;n.init=function e(){Object.defineProperty(this,"__ngev",{configurable:true,value:{nice:n.SYNC,interruptible:false,recursion:0,contexts:{},states:{},stateGroups:{},listeners:{error:[],interrupt:[],newListener:[],removeListener:[]}}})};n.filterOutCallback=function(e,t){return e!==t};n.prototype.addListener=function e(t,r,i){var s={},o;if(!this.__ngev){n.init.call(this)}if(!this.__ngev.listeners[t]){this.__ngev.listeners[t]=[]}if(!t||typeof t!=="string"){throw new TypeError(".addListener(): argument #0 should be a non-empty string")}if(typeof r!=="function"){i=r;r=undefined}if(!i||typeof i!=="object"){i={}}s.fn=r||i.fn;s.id=i.id!==undefined?i.id:s.fn;s.once=!!i.once;s.async=!!i.async;s.eventObject=!!i.eventObject;s.nice=i.nice!==undefined?Math.floor(i.nice):n.SYNC;s.context=typeof i.context==="string"?i.context:null;if(typeof s.fn!=="function"){throw new TypeError(".addListener(): a function or an object with a 'fn' property which value is a function should be provided")}if(s.context&&typeof s.context==="string"&&!this.__ngev.contexts[s.context]){this.addListenerContext(s.context)}s.event=t;if(this.__ngev.listeners.newListener.length){o=this.__ngev.listeners.newListener.slice();this.__ngev.listeners[t].push(s);n.emitEvent({emitter:this,name:"newListener",args:[[s]],listeners:o});if(this.__ngev.states[t]){n.emitToOneListener(this.__ngev.states[t],s)}return this}this.__ngev.listeners[t].push(s);if(this.__ngev.states[t]){n.emitToOneListener(this.__ngev.states[t],s)}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function e(t,r,n){if(r&&typeof r==="object"){r.once=true}else if(n&&typeof n==="object"){n.once=true}else{n={once:true}}return this.addListener(t,r,n)};n.prototype.removeListener=function e(t,r){var i,s,o=[],a=[];if(!t||typeof t!=="string"){throw new TypeError(".removeListener(): argument #0 should be a non-empty string")}if(!this.__ngev){n.init.call(this)}if(!this.__ngev.listeners[t]){this.__ngev.listeners[t]=[]}s=this.__ngev.listeners[t].length;for(i=0;i<s;i++){if(this.__ngev.listeners[t][i].id===r){a.push(this.__ngev.listeners[t][i])}else{o.push(this.__ngev.listeners[t][i])}}this.__ngev.listeners[t]=o;if(a.length&&this.__ngev.listeners.removeListener.length){this.emit("removeListener",a)}return this};n.prototype.off=n.prototype.removeListener;n.prototype.removeAllListeners=function e(t){var r;if(!this.__ngev){n.init.call(this)}if(t){if(!t||typeof t!=="string"){throw new TypeError(".removeAllListeners(): argument #0 should be undefined or a non-empty string")}if(!this.__ngev.listeners[t]){this.__ngev.listeners[t]=[]}r=this.__ngev.listeners[t];this.__ngev.listeners[t]=[];if(r.length&&this.__ngev.listeners.removeListener.length){this.emit("removeListener",r)}}else{this.__ngev.listeners={}}return this};n.listenerWrapper=function e(t,r,i){var s,o,a;if(r.interrupt){return}if(t.async){if(i){o=i.serial;i.ready=!o}a=function(e){r.listenersDone++;if(e&&r.emitter.__ngev.interruptible&&!r.interrupt&&r.name!=="interrupt"){r.interrupt=e;if(r.callback){r.callback(r.interrupt,r);delete r.callback}r.emitter.emit("interrupt",r.interrupt)}else if(r.listenersDone>=r.listeners.length&&r.callback){r.callback(undefined,r);delete r.callback}if(o){n.processQueue.call(r.emitter,t.context,true)}};if(t.eventObject){t.fn(r,a)}else{s=t.fn.apply(undefined,r.args.concat(a))}}else{if(t.eventObject){t.fn(r)}else{s=t.fn.apply(undefined,r.args)}r.listenersDone++}if(s&&r.emitter.__ngev.interruptible&&!r.interrupt&&r.name!=="interrupt"){r.interrupt=s;if(r.callback){r.callback(r.interrupt,r);delete r.callback}r.emitter.emit("interrupt",r.interrupt)}else if(r.listenersDone>=r.listeners.length&&r.callback){r.callback(undefined,r);delete r.callback}};var i=0;n.prototype.emit=function e(){var t;t={emitter:this};if(typeof arguments[0]==="number"){t.nice=Math.floor(arguments[0]);t.name=arguments[1];if(!t.name||typeof t.name!=="string"){throw new TypeError(".emit(): when argument #0 is a number, argument #1 should be a non-empty string")}if(typeof arguments[arguments.length-1]==="function"){t.callback=arguments[arguments.length-1];t.args=Array.prototype.slice.call(arguments,2,-1)}else{t.args=Array.prototype.slice.call(arguments,2)}}else{t.name=arguments[0];if(!t.name||typeof t.name!=="string"){throw new TypeError(".emit(): argument #0 should be an number or a non-empty string")}t.args=Array.prototype.slice.call(arguments,1);if(typeof arguments[arguments.length-1]==="function"){t.callback=arguments[arguments.length-1];t.args=Array.prototype.slice.call(arguments,1,-1)}else{t.args=Array.prototype.slice.call(arguments,1)}}return n.emitEvent(t)};n.emitEvent=function e(t){var r=t.emitter,s,o,a=0,l,u;if(!r.__ngev){n.init.call(r)}l=r.__ngev.states[t.name];if(l!==undefined){if(l&&t.args.length===l.args.length&&t.args.every(function(e,t){return e===l.args[t]})){return}r.__ngev.stateGroups[t.name].forEach(function(e){r.__ngev.states[e]=null});r.__ngev.states[t.name]=t}if(!r.__ngev.listeners[t.name]){r.__ngev.listeners[t.name]=[]}t.id=i++;t.listenersDone=0;t.once=!!t.once;if(t.nice===undefined||t.nice===null){t.nice=r.__ngev.nice}if(!t.listeners){t.listeners=r.__ngev.listeners[t.name].slice()}r.__ngev.recursion++;u=[];for(s=0,o=t.listeners.length;s<o;s++){a++;n.emitToOneListener(t,t.listeners[s],u)}r.__ngev.recursion--;if(u.length&&r.__ngev.listeners.removeListener.length){r.emit("removeListener",u)}if(!a){if(t.name==="error"){if(t.args[0]){throw t.args[0]}else{throw Error("Uncaught, unspecified 'error' event.")}}if(t.callback){t.callback(undefined,t);delete t.callback}}return t};n.emitToOneListener=function e(t,r,i){var s=t.emitter,o,a,l=false;o=r.context&&s.__ngev.contexts[r.context];if(o&&o.status===n.CONTEXT_DISABLED){return}if(o){a=Math.max(t.nice,r.nice,o.nice)}else{a=Math.max(t.nice,r.nice)}if(r.once){s.__ngev.listeners[t.name]=s.__ngev.listeners[t.name].filter(n.filterOutCallback.bind(undefined,r));if(i){i.push(r)}else{l=true}}if(o&&(o.status===n.CONTEXT_QUEUED||!o.ready)){o.queue.push({event:t,listener:r,nice:a})}else{try{if(a<0){if(s.__ngev.recursion>=-a){setImmediate(n.listenerWrapper.bind(s,r,t,o))}else{n.listenerWrapper.call(s,r,t,o)}}else{setTimeout(n.listenerWrapper.bind(s,r,t,o),a)}}catch(e){s.__ngev.recursion--;throw e}}if(l&&s.__ngev.listeners.removeListener.length){s.emit("removeListener",[r])}};n.prototype.listeners=function e(t){if(!t||typeof t!=="string"){throw new TypeError(".listeners(): argument #0 should be a non-empty string")}if(!this.__ngev){n.init.call(this)}if(!this.__ngev.listeners[t]){this.__ngev.listeners[t]=[]}return this.__ngev.listeners[t].slice()};n.listenerCount=function(e,t){if(!e||!(e instanceof n)){throw new TypeError(".listenerCount(): argument #0 should be an instance of NextGenEvents")}return e.listenerCount(t)};n.prototype.listenerCount=function(e){if(!e||typeof e!=="string"){throw new TypeError(".listenerCount(): argument #1 should be a non-empty string")}if(!this.__ngev){n.init.call(this)}if(!this.__ngev.listeners[e]){this.__ngev.listeners[e]=[]}return this.__ngev.listeners[e].length};n.prototype.setNice=function e(t){if(!this.__ngev){n.init.call(this)}this.__ngev.nice=Math.floor(+t||0)};n.prototype.setInterruptible=function e(t){if(!this.__ngev){n.init.call(this)}this.__ngev.interruptible=!!t};n.share=function(e,t){if(!(e instanceof n)||!(t instanceof n)){throw new TypeError("NextGenEvents.share() arguments should be instances of NextGenEvents")}if(!e.__ngev){n.init.call(e)}Object.defineProperty(t,"__ngev",{configurable:true,value:e.__ngev})};n.reset=function e(t){Object.defineProperty(t,"__ngev",{configurable:true,value:null})};n.prototype.setMaxListeners=function(){};n.noop=function(){};n.prototype.defineStates=function e(){var t=this,r=Array.prototype.slice.call(arguments);if(!this.__ngev){n.init.call(this)}r.forEach(function(e){t.__ngev.states[e]=null;t.__ngev.stateGroups[e]=r})};n.prototype.hasState=function e(t){if(!this.__ngev){n.init.call(this)}return!!this.__ngev.states[t]};n.prototype.getAllStates=function e(){var t=this;if(!this.__ngev){n.init.call(this)}return Object.keys(this.__ngev.states).filter(function(e){return t.__ngev.states[e]})};n.groupAddListener=function e(t,r,n,i){if(typeof n!=="function"){i=n;n=undefined}if(!i||typeof i!=="object"){i={}}n=n||i.fn;delete i.fn;i.id=i.id||n;t.forEach(function(e){e.addListener(r,n.bind(undefined,e),i)})};n.groupOn=n.groupAddListener;n.groupOnce=function e(t,r,n,i){if(n&&typeof n==="object"){n.once=true}else if(i&&typeof i==="object"){i.once=true}else{i={once:true}}return this.groupAddListener(t,r,n,i)};n.groupGlobalOnce=function e(t,r,i,s){var o,a=false;if(typeof i!=="function"){s=i;i=undefined}if(!s||typeof s!=="object"){s={}}i=i||s.fn;delete s.fn;s.id=s.id||i;o=function(){if(a){return}a=true;n.groupRemoveListener(t,r,s.id);i.apply(undefined,arguments)};t.forEach(function(e){e.once(r,o.bind(undefined,e),s)})};n.groupGlobalOnceAll=function e(t,r,n,i){var s,o=false,a=t.length;if(typeof n!=="function"){i=n;n=undefined}if(!i||typeof i!=="object"){i={}}n=n||i.fn;delete i.fn;i.id=i.id||n;s=function(){if(o){return}if(--a){return}o=true;n.apply(undefined,arguments)};t.forEach(function(e){e.once(r,s.bind(undefined,e),i)})};n.groupRemoveListener=function e(t,r,n){t.forEach(function(e){e.removeListener(r,n)})};n.groupOff=n.groupRemoveListener;n.groupRemoveAllListeners=function e(t,r){t.forEach(function(e){e.removeAllListeners(r)})};n.groupEmit=function e(t){var r,i,s=2,o,a,l=t.length,u,c,f=false;if(typeof arguments[arguments.length-1]==="function"){o=-1;u=arguments[arguments.length-1];c=function(e){if(f){return}if(e){f=true;u(e)}else if(!--l){f=true;u()}}}if(typeof arguments[1]==="number"){s=3;i=typeof arguments[1]}r=arguments[s-1];a=Array.prototype.slice.call(arguments,s,o);t.forEach(function(e){n.emitEvent({emitter:e,name:r,args:a,nice:i,callback:c})})};n.groupDefineStates=function e(t){var r=Array.prototype.slice.call(arguments,1);t.forEach(function(e){e.defineStates.apply(e,r)})};n.CONTEXT_ENABLED=0;n.CONTEXT_DISABLED=1;n.CONTEXT_QUEUED=2;n.prototype.addListenerContext=function e(t,r){if(!this.__ngev){n.init.call(this)}if(!t||typeof t!=="string"){throw new TypeError(".addListenerContext(): argument #0 should be a non-empty string")}if(!r||typeof r!=="object"){r={}}if(!this.__ngev.contexts[t]){this.__ngev.contexts[t]=Object.create(n.prototype);this.__ngev.contexts[t].nice=n.SYNC;this.__ngev.contexts[t].ready=true;this.__ngev.contexts[t].status=n.CONTEXT_ENABLED;this.__ngev.contexts[t].serial=false;this.__ngev.contexts[t].queue=[]}if(r.nice!==undefined){this.__ngev.contexts[t].nice=Math.floor(r.nice)}if(r.status!==undefined){this.__ngev.contexts[t].status=r.status}if(r.serial!==undefined){this.__ngev.contexts[t].serial=!!r.serial}return this};n.prototype.disableListenerContext=function e(t){if(!this.__ngev){n.init.call(this)}if(!t||typeof t!=="string"){throw new TypeError(".disableListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[t]){this.addListenerContext(t)}this.__ngev.contexts[t].status=n.CONTEXT_DISABLED;return this};n.prototype.enableListenerContext=function e(t){if(!this.__ngev){n.init.call(this)}if(!t||typeof t!=="string"){throw new TypeError(".enableListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[t]){this.addListenerContext(t)}this.__ngev.contexts[t].status=n.CONTEXT_ENABLED;if(this.__ngev.contexts[t].queue.length>0){n.processQueue.call(this,t)}return this};n.prototype.queueListenerContext=function e(t){if(!this.__ngev){n.init.call(this)}if(!t||typeof t!=="string"){throw new TypeError(".queueListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[t]){this.addListenerContext(t)}this.__ngev.contexts[t].status=n.CONTEXT_QUEUED;return this};n.prototype.serializeListenerContext=function e(t,r){if(!this.__ngev){n.init.call(this)}if(!t||typeof t!=="string"){throw new TypeError(".serializeListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[t]){this.addListenerContext(t)}this.__ngev.contexts[t].serial=r===undefined?true:!!r;return this};n.prototype.setListenerContextNice=function e(t,r){if(!this.__ngev){n.init.call(this)}if(!t||typeof t!=="string"){throw new TypeError(".setListenerContextNice(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[t]){this.addListenerContext(t)}this.__ngev.contexts[t].nice=Math.floor(r);return this};n.prototype.destroyListenerContext=function e(t){var r,i,s,o,a=[];if(!t||typeof t!=="string"){throw new TypeError(".disableListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev){n.init.call(this)}for(s in this.__ngev.listeners){o=null;i=this.__ngev.listeners[s].length;for(r=0;r<i;r++){if(this.__ngev.listeners[s][r].context===t){o=[];a.push(this.__ngev.listeners[s][r])}else if(o){o.push(this.__ngev.listeners[s][r])}}if(o){this.__ngev.listeners[s]=o}}if(this.__ngev.contexts[t]){delete this.__ngev.contexts[t]}if(a.length&&this.__ngev.listeners.removeListener.length){this.emit("removeListener",a)}return this};n.processQueue=function e(t,r){var i,s;if(!this.__ngev.contexts[t]){return}i=this.__ngev.contexts[t];if(r){i.ready=true}this.__ngev.recursion++;while(i.ready&&i.queue.length){s=i.queue.shift();if(s.event.interrupt){continue}try{if(s.nice<0){if(this.__ngev.recursion>=-s.nice){setImmediate(n.listenerWrapper.bind(this,s.listener,s.event,i))}else{n.listenerWrapper.call(this,s.listener,s.event,i)}}else{setTimeout(n.listenerWrapper.bind(this,s.listener,s.event,i),s.nice)}}catch(e){this.__ngev.recursion--;throw e}}this.__ngev.recursion--};n.on=n.prototype.on
;n.once=n.prototype.once;n.off=n.prototype.off;if(r.AsyncTryCatch){n.prototype.asyncTryCatchId=r.AsyncTryCatch.NextGenEvents.length;r.AsyncTryCatch.NextGenEvents.push(n);if(r.AsyncTryCatch.substituted){r.AsyncTryCatch.substitute()}}n.Proxy=e("./Proxy.js")}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../package.json":14,"./Proxy.js":13}],13:[function(e,t,r){"use strict";function n(){return n.create()}t.exports=n;var i=e("./NextGenEvents.js");var s="NextGenEvents/message";function o(){}n.create=function e(){var t=Object.create(n.prototype,{localServices:{value:{},enumerable:true},remoteServices:{value:{},enumerable:true},nextAckId:{value:1,writable:true,enumerable:true}});return t};n.prototype.addLocalService=function e(t,r,n){this.localServices[t]=a.create(this,t,r,n);return this.localServices[t]};n.prototype.addRemoteService=function e(t){this.remoteServices[t]=l.create(this,t);return this.remoteServices[t]};n.prototype.destroy=function e(){var t=this;Object.keys(this.localServices).forEach(function(e){t.localServices[e].destroy();delete t.localServices[e]});Object.keys(this.remoteServices).forEach(function(e){t.remoteServices[e].destroy();delete t.remoteServices[e]});this.receive=this.send=o};n.prototype.push=function e(t){if(t.__type!==s||!t.service||typeof t.service!=="string"||!t.event||typeof t.event!=="string"||!t.method){return}switch(t.method){case"event":return this.remoteServices[t.service]&&this.remoteServices[t.service].receiveEvent(t);case"ackEmit":return this.remoteServices[t.service]&&this.remoteServices[t.service].receiveAckEmit(t);case"emit":return this.localServices[t.service]&&this.localServices[t.service].receiveEmit(t);case"listen":return this.localServices[t.service]&&this.localServices[t.service].receiveListen(t);case"ignore":return this.localServices[t.service]&&this.localServices[t.service].receiveIgnore(t);case"ackEvent":return this.localServices[t.service]&&this.localServices[t.service].receiveAckEvent(t);default:return}};n.prototype.receive=function e(t){this.push(t)};n.prototype.send=function e(){throw new Error("The send() method of the Proxy MUST be extended/overwritten")};function a(e,t,r,n){return a.create(e,t,r,n)}n.LocalService=a;a.create=function e(t,r,n,s){var o=Object.create(a.prototype,{proxy:{value:t,enumerable:true},id:{value:r,enumerable:true},emitter:{value:n,writable:true,enumerable:true},internalEvents:{value:Object.create(i.prototype),writable:true,enumerable:true},events:{value:{},enumerable:true},canListen:{value:!!s.listen,writable:true,enumerable:true},canEmit:{value:!!s.emit,writable:true,enumerable:true},canAck:{value:!!s.ack,writable:true,enumerable:true},canRpc:{value:!!s.rpc,writable:true,enumerable:true},destroyed:{value:false,writable:true,enumerable:true}});return o};a.prototype.destroy=function e(){var t=this;Object.keys(this.events).forEach(function(e){t.emitter.off(e,t.events[e]);delete t.events[e]});this.emitter=null;this.destroyed=true};a.prototype.receiveEmit=function e(t){if(this.destroyed||!this.canEmit||t.ack&&!this.canAck){return}var r=this;var n={emitter:this.emitter,name:t.event,args:t.args||[]};if(t.ack){n.callback=function e(n){r.proxy.send({__type:s,service:r.id,method:"ackEmit",ack:t.ack,event:t.event,interruption:n})}}i.emitEvent(n)};a.prototype.receiveListen=function e(t){if(this.destroyed||!this.canListen||t.ack&&!this.canAck){return}if(t.ack){if(this.events[t.event]){if(this.events[t.event].ack){return}this.emitter.off(t.event,this.events[t.event])}this.events[t.event]=a.forwardWithAck.bind(this);this.events[t.event].ack=true;this.emitter.on(t.event,this.events[t.event],{eventObject:true,async:true})}else{if(this.events[t.event]){if(!this.events[t.event].ack){return}this.emitter.off(t.event,this.events[t.event])}this.events[t.event]=a.forward.bind(this);this.events[t.event].ack=false;this.emitter.on(t.event,this.events[t.event],{eventObject:true})}};a.prototype.receiveIgnore=function e(t){if(this.destroyed||!this.canListen){return}if(!this.events[t.event]){return}this.emitter.off(t.event,this.events[t.event]);this.events[t.event]=null};a.prototype.receiveAckEvent=function e(t){if(this.destroyed||!this.canListen||!this.canAck||!t.ack||!this.events[t.event]||!this.events[t.event].ack){return}this.internalEvents.emit("ack",t)};a.forward=function e(t){if(this.destroyed){return}this.proxy.send({__type:s,service:this.id,method:"event",event:t.name,args:t.args})};a.forward.ack=false;a.forwardWithAck=function e(t,r){if(this.destroyed){return}var n=this;if(!t.callback){this.proxy.send({__type:s,service:this.id,method:"event",event:t.name,args:t.args});r();return}var i=false;var o=this.proxy.nextAckId++;var a=function e(t){if(i||t.ack!==o){return}i=true;n.internalEvents.off("ack",e);r()};this.internalEvents.on("ack",a);this.proxy.send({__type:s,service:this.id,method:"event",event:t.name,ack:o,args:t.args})};a.forwardWithAck.ack=true;function l(e,t){return l.create(e,t)}n.RemoteService=l;var u=1;var c=2;l.create=function e(t,r){var n=Object.create(l.prototype,{proxy:{value:t,enumerable:true},id:{value:r,enumerable:true},emitter:{value:Object.create(i.prototype),writable:true,enumerable:true},internalEvents:{value:Object.create(i.prototype),writable:true,enumerable:true},events:{value:{},enumerable:true},destroyed:{value:false,writable:true,enumerable:true}});return n};l.prototype.destroy=function e(){var t=this;this.emitter.removeAllListeners();this.emitter=null;Object.keys(this.events).forEach(function(e){delete t.events[e]});this.destroyed=true};l.prototype.emit=function e(t){if(this.destroyed){return}var r=this,n,i,o,a;if(typeof t==="number"){throw new TypeError("Cannot emit with a nice value on a remote service")}if(typeof arguments[arguments.length-1]!=="function"){n=Array.prototype.slice.call(arguments,1);this.proxy.send({__type:s,service:this.id,method:"emit",event:t,args:n});return}n=Array.prototype.slice.call(arguments,1,-1);i=arguments[arguments.length-1];o=this.proxy.nextAckId++;a=false;var l=function e(t){if(a||t.ack!==o){return}a=true;r.internalEvents.off("ack",e);i(t.interruption)};this.internalEvents.on("ack",l);this.proxy.send({__type:s,service:this.id,method:"emit",ack:o,event:t,args:n})};l.prototype.addListener=function e(t,r,n){if(this.destroyed){return}if(typeof r!=="function"){n=r;r=undefined}if(!n||typeof n!=="object"){n={}}n.fn=r||n.fn;this.emitter.addListener(t,n);if(!this.emitter.__ngev.listeners[t]||!this.emitter.__ngev.listeners[t].length){return}if(n.async&&this.events[t]!==c){this.events[t]=c;this.proxy.send({__type:s,service:this.id,method:"listen",ack:true,event:t})}else if(!n.async&&!this.events[t]){this.events[t]=u;this.proxy.send({__type:s,service:this.id,method:"listen",event:t})}};l.prototype.on=l.prototype.addListener;l.prototype.once=i.prototype.once;l.prototype.removeListener=function e(t,r){if(this.destroyed){return}this.emitter.removeListener(t,r);if((!this.emitter.__ngev.listeners[t]||!this.emitter.__ngev.listeners[t].length)&&this.events[t]){this.events[t]=0;this.proxy.send({__type:s,service:this.id,method:"ignore",event:t})}};l.prototype.off=l.prototype.removeListener;l.prototype.receiveEvent=function e(t){var r=this;if(this.destroyed||!this.events[t.event]){return}var n={emitter:this.emitter,name:t.event,args:t.args||[]};if(t.ack){n.callback=function e(){r.proxy.send({__type:s,service:r.id,method:"ackEvent",ack:t.ack,event:t.event})}}i.emitEvent(n);var o=n.name;if(!this.emitter.__ngev.listeners[o]||!this.emitter.__ngev.listeners[o].length){this.events[o]=0;this.proxy.send({__type:s,service:this.id,method:"ignore",event:o})}};l.prototype.receiveAckEmit=function e(t){if(this.destroyed||!t.ack||this.events[t.event]!==c){return}this.internalEvents.emit("ack",t)}},{"./NextGenEvents.js":12}],14:[function(e,t,r){t.exports={_args:[[{raw:"nextgen-events@^0.9.0",scope:null,escapedName:"nextgen-events",name:"nextgen-events",rawSpec:"^0.9.0",spec:">=0.9.0 <0.10.0",type:"range"},"/home/cedric/inside/github/logfella/node_modules/async-kit"]],_from:"nextgen-events@>=0.9.0 <0.10.0",_id:"nextgen-events@0.9.8",_inCache:true,_location:"/nextgen-events",_nodeVersion:"4.5.0",_npmOperationalInternal:{host:"packages-16-east.internal.npmjs.com",tmp:"tmp/nextgen-events-0.9.8.tgz_1473951316005_0.2686476525850594"},_npmUser:{name:"cronvel",email:"cedric.ronvel@gmail.com"},_npmVersion:"2.15.9",_phantomChildren:{},_requested:{raw:"nextgen-events@^0.9.0",scope:null,escapedName:"nextgen-events",name:"nextgen-events",rawSpec:"^0.9.0",spec:">=0.9.0 <0.10.0",type:"range"},_requiredBy:["/async-kit"],_resolved:"https://registry.npmjs.org/nextgen-events/-/nextgen-events-0.9.8.tgz",_shasum:"ed1712c2b37dad55407b3e941672d1568c3a4630",_shrinkwrap:null,_spec:"nextgen-events@^0.9.0",_where:"/home/cedric/inside/github/logfella/node_modules/async-kit",author:{name:"Cédric Ronvel"},bugs:{url:"https://github.com/cronvel/nextgen-events/issues"},copyright:{title:"Next-Gen Events",years:[2015,2016],owner:"Cédric Ronvel"},dependencies:{},description:"The next generation of events handling for javascript! New: abstract away the network!",devDependencies:{browserify:"^13.0.1","expect.js":"^0.3.1",jshint:"^2.9.2",mocha:"^2.5.3","uglify-js":"^2.6.2",ws:"^1.1.1"},directories:{test:"test"},dist:{shasum:"ed1712c2b37dad55407b3e941672d1568c3a4630",tarball:"https://registry.npmjs.org/nextgen-events/-/nextgen-events-0.9.8.tgz"},gitHead:"e91559128a1653ed3b58dcadefcac62aa7056207",homepage:"https://github.com/cronvel/nextgen-events#readme",keywords:["events","async","emit","listener","context","series","serialize","namespace","proxy","network"],license:"MIT",main:"lib/NextGenEvents.js",maintainers:[{name:"cronvel",email:"cedric.ronvel@gmail.com"}],name:"nextgen-events",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/cronvel/nextgen-events.git"},scripts:{test:"mocha -R dot"},version:"0.9.8"}},{}],15:[function(e,t,r){r.endianness=function(){return"LE"};r.hostname=function(){if(typeof location!=="undefined"){return location.hostname}else return""};r.loadavg=function(){return[]};r.uptime=function(){return 0};r.freemem=function(){return Number.MAX_VALUE};r.totalmem=function(){return Number.MAX_VALUE};r.cpus=function(){return[]};r.type=function(){return"Browser"};r.release=function(){if(typeof navigator!=="undefined"){return navigator.appVersion}return""};r.networkInterfaces=r.getNetworkInterfaces=function(){return{}};r.arch=function(){return"javascript"};r.platform=function(){return"browser"};r.tmpdir=r.tmpDir=function(){return"/tmp"};r.EOL="\n"},{}],16:[function(e,t,r){(function(e){function t(e,t){var r=0;for(var n=e.length-1;n>=0;n--){var i=e[n];if(i==="."){e.splice(n,1)}else if(i===".."){e.splice(n,1);r++}else if(r){e.splice(n,1);r--}}if(t){for(;r--;r){e.unshift("..")}}return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var i=function(e){return n.exec(e).slice(1)};r.resolve=function(){var r="",n=false;for(var i=arguments.length-1;i>=-1&&!n;i--){var o=i>=0?arguments[i]:e.cwd();if(typeof o!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!o){continue}r=o+"/"+r;n=o.charAt(0)==="/"}r=t(s(r.split("/"),function(e){return!!e}),!n).join("/");return(n?"/":"")+r||"."};r.normalize=function(e){var n=r.isAbsolute(e),i=o(e,-1)==="/";e=t(s(e.split("/"),function(e){return!!e}),!n).join("/");if(!e&&!n){e="."}if(e&&i){e+="/"}return(n?"/":"")+e};r.isAbsolute=function(e){return e.charAt(0)==="/"};r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(s(e,function(e,t){if(typeof e!=="string"){throw new TypeError("Arguments to path.join must be strings")}return e}).join("/"))};r.relative=function(e,t){e=r.resolve(e).substr(1);t=r.resolve(t).substr(1);function n(e){var t=0;for(;t<e.length;t++){if(e[t]!=="")break}var r=e.length-1;for(;r>=0;r--){if(e[r]!=="")break}if(t>r)return[];return e.slice(t,r-t+1)}var i=n(e.split("/"));var s=n(t.split("/"));var o=Math.min(i.length,s.length);var a=o;for(var l=0;l<o;l++){if(i[l]!==s[l]){a=l;break}}var u=[];for(var l=a;l<i.length;l++){u.push("..")}u=u.concat(s.slice(a));return u.join("/")};r.sep="/";r.delimiter=":";r.dirname=function(e){var t=i(e),r=t[0],n=t[1];if(!r&&!n){return"."}if(n){n=n.substr(0,n.length-1)}return r+n};r.basename=function(e,t){var r=i(e)[2];if(t&&r.substr(-1*t.length)===t){r=r.substr(0,r.length-t.length)}return r};r.extname=function(e){return i(e)[3]};function s(e,t){if(e.filter)return e.filter(t);var r=[];for(var n=0;n<e.length;n++){if(t(e[n],n,e))r.push(e[n])}return r}var o="ab".substr(-1)==="b"?function(e,t,r){return e.substr(t,r)}:function(e,t,r){if(t<0)t=e.length+t;return e.substr(t,r)}}).call(this,e("_process"))},{_process:17}],17:[function(e,t,r){var n=t.exports={};var i;var s;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=o}}catch(e){i=o}try{if(typeof clearTimeout==="function"){s=clearTimeout}else{s=a}}catch(e){s=a}})();function l(e){if(i===setTimeout){return setTimeout(e,0)}if((i===o||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function u(e){if(s===clearTimeout){return clearTimeout(e)}if((s===a||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(e)}try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}var c=[];var f=false;var p;var h=-1;function d(){if(!f||!p){return}f=false;if(p.length){c=p.concat(c)}else{h=-1}if(c.length){g()}}function g(){if(f){return}var e=l(d);f=true;var t=c.length;while(t){p=c;c=[];while(++h<t){if(p){p[h].run()}}h=-1;t=c.length}p=null;f=false;u(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}c.push(new y(e,t));if(c.length===1&&!f){l(g)}};function y(e,t){this.fun=e;this.array=t}y.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],18:[function(t,r,n){(function(t){(function(i){var s=typeof n=="object"&&n&&!n.nodeType&&n;var o=typeof r=="object"&&r&&!r.nodeType&&r;var a=typeof t=="object"&&t;if(a.global===a||a.window===a||a.self===a){i=a}var l,u=2147483647,c=36,f=1,p=26,h=38,d=700,g=72,y=128,m="-",b=/^xn--/,v=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-f,_=Math.floor,j=String.fromCharCode,A;function T(e){throw new RangeError(k[e])}function C(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function M(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(x,".");var i=e.split(".");var s=C(i,t).join(".");return n+s}function O(e){var t=[],r=0,n=e.length,i,s;while(r<n){i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){s=e.charCodeAt(r++);if((s&64512)==56320){t.push(((i&1023)<<10)+(s&1023)+65536)}else{t.push(i);r--}}else{t.push(i)}}return t}function E(e){return C(e,function(e){var t="";if(e>65535){e-=65536;t+=j(e>>>10&1023|55296);e=56320|e&1023}t+=j(e);return t}).join("")}function S(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return c}function I(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function L(e,t,r){var n=0;e=r?_(e/d):e>>1;e+=_(e/t);for(;e>w*p>>1;n+=c){e=_(e/w)}return _(n+(w+1)*e/(e+h))}function P(e){var t=[],r=e.length,n,i=0,s=y,o=g,a,l,h,d,b,v,x,k,w;a=e.lastIndexOf(m);if(a<0){a=0}for(l=0;l<a;++l){if(e.charCodeAt(l)>=128){T("not-basic")}t.push(e.charCodeAt(l))}for(h=a>0?a+1:0;h<r;){for(d=i,b=1,v=c;;v+=c){if(h>=r){T("invalid-input")}x=S(e.charCodeAt(h++));if(x>=c||x>_((u-i)/b)){T("overflow")}i+=x*b;k=v<=o?f:v>=o+p?p:v-o;if(x<k){break}w=c-k;if(b>_(u/w)){T("overflow")}b*=w}n=t.length+1;o=L(i-d,n,d==0);if(_(i/n)>u-s){T("overflow")}s+=_(i/n);i%=n;t.splice(i++,0,s)}return E(t)}function R(e){var t,r,n,i,s,o,a,l,h,d,b,v=[],x,k,w,A;e=O(e);x=e.length;t=y;r=0;s=g;for(o=0;o<x;++o){b=e[o];if(b<128){v.push(j(b))}}n=i=v.length;if(i){v.push(m)}while(n<x){for(a=u,o=0;o<x;++o){b=e[o];if(b>=t&&b<a){a=b}}k=n+1;if(a-t>_((u-r)/k)){T("overflow")}r+=(a-t)*k;t=a;for(o=0;o<x;++o){b=e[o];if(b<t&&++r>u){T("overflow")}if(b==t){for(l=r,h=c;;h+=c){d=h<=s?f:h>=s+p?p:h-s;if(l<d){break}A=l-d;w=c-d;v.push(j(I(d+A%w,0)));l=_(A/w)}v.push(j(I(l,0)));s=L(r,k,n==i);r=0;++n}}++r;++t}return v.join("")}function N(e){return M(e,function(e){return b.test(e)?P(e.slice(4).toLowerCase()):e})}function D(e){return M(e,function(e){return v.test(e)?"xn--"+R(e):e})}l={version:"1.4.1",ucs2:{decode:O,encode:E},decode:P,encode:R,toASCII:D,toUnicode:N};if(typeof e=="function"&&typeof e.amd=="object"&&e.amd){e("punycode",function(){return l})}else if(s&&o){if(r.exports==s){o.exports=l}else{for(A in l){l.hasOwnProperty(A)&&(s[A]=l[A])}}}else{i.punycode=l}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],19:[function(e,t,r){"use strict";t.exports={reset:"[0m",bold:"[1m",dim:"[2m",italic:"[3m",underline:"[4m",inverse:"[7m",defaultColor:"[39m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",brightBlack:"[90m",brightRed:"[91m",brightGreen:"[92m",brightYellow:"[93m",brightBlue:"[94m",brightMagenta:"[95m",brightCyan:"[96m",brightWhite:"[97m",defaultBgColor:"[49m",bgBlack:"[40m",bgRed:"[41m",bgGreen:"[42m",bgYellow:"[43m",bgBlue:"[44m",bgMagenta:"[45m",bgCyan:"[46m",bgWhite:"[47m",bgBrightBlack:"[100m",bgBrightRed:"[101m",bgBrightGreen:"[102m",bgBrightYellow:"[103m",bgBrightBlue:"[104m",bgBrightMagenta:"[105m",bgBrightCyan:"[106m",bgBrightWhite:"[107m"}},{}],20:[function(e,t,r){"use strict";var n={};t.exports=n;n.toCamelCase=function e(t){if(!t||typeof t!=="string"){return""}return t.replace(/^[\s_-]*([^\s_-]+)|[\s_-]+([^\s_-]?)([^\s_-]*)/g,function(e,t,r,n){if(t){return t.toLowerCase()}if(!r){return""}return r.toUpperCase()+n.toLowerCase()})};n.camelCaseToDashed=function e(t){if(!t||typeof t!=="string"){return""}return t.replace(/^([A-Z])|([A-Z])/g,function(e,t,r){if(t){return t.toLowerCase()}return"-"+r.toLowerCase()})}},{}],21:[function(e,t,r){"use strict";r.regExp=r.regExpPattern=function e(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")};r.regExpReplacement=function e(t){return t.replace(/\$/g,"$$$$")};r.format=function e(t){return t.replace(/%/g,"%%")};r.jsSingleQuote=function e(t){return r.control(t).replace(/'/g,"\\'")};r.jsDoubleQuote=function e(t){return r.control(t).replace(/"/g,'\\"')};r.shellArg=function e(t){return"'"+t.replace(/\'/g,"'\\''")+"'"};var n={"\r":"\\r","\n":"\\n","\t":"\\t","":"\\x7f"};r.control=function e(t){return t.replace(/[\x00-\x1f\x7f]/g,function(e){if(n[e]!==undefined){return n[e]}var t=e.charCodeAt(0).toString(16);if(t.length%2){t="0"+t}return"\\x"+t})};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};r.html=function e(t){return t.replace(/[&<>]/g,function(e){return i[e]})};r.htmlAttr=function e(t){return t.replace(/[&<>"]/g,function(e){return i[e]})};r.htmlSpecialChars=function e(t){return t.replace(/[&<>"']/g,function(e){return i[e]})}},{}],22:[function(e,t,r){"use strict";var n=e("./inspect.js").inspect;var i=e("./inspect.js").inspectError;var s=e("./ansi.js");r.formatMethod=function e(t){if(typeof t!=="string"){if(!t){t=""}else if(typeof t.toString==="function"){t=t.toString()}else{t=""}}var r=this,s,o,a=1,l=arguments,u=arguments.length,c=false,f=null,p=[];if(this.markupReset&&this.startingMarkupReset){t=(typeof this.markupReset==="function"?this.markupReset(p):this.markupReset)+t}t=t.replace(/\^(.?)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/g,function(e,t,h,d,g,y,m){var b,v,x,k,w,_,j,A,T=[];if(h){return"%"}if(t){if(t==="^"){return"^"}if(r.shiftMarkup&&r.shiftMarkup[t]){f=r.shiftMarkup[t];return""}if(f){if(!r.shiftedMarkup||!r.shiftedMarkup[f]||!r.shiftedMarkup[f][t]){return""}c=true;if(typeof r.shiftedMarkup[f][t]==="function"){b=r.shiftedMarkup[f][t](p)}else{b=r.shiftedMarkup[f][t];p.push(b)}f=null}else{if(!r.markup||!r.markup[t]){return""}c=true;if(typeof r.markup[t]==="function"){b=r.markup[t](p)}else{b=r.markup[t];p.push(b)}}return b}if(g){g=parseInt(g);if(d){if(d==="+"){g=a+g}else if(d==="-"){g=a-g}}}else{g=a}a++;if(g>=u||g<1){s=undefined}else{s=l[g]}switch(m){case"s":if(s===null||s===undefined){return""}if(typeof s==="string"){return s}if(typeof s==="number"){return""+s}if(typeof s.toString==="function"){return s.toString()}return"";case"f":if(typeof s==="string"){s=parseFloat(s)}if(typeof s!=="number"){return"0"}if(y!==undefined){switch(y[0]){case"p":x=parseInt(y.slice(1),10);if(x>=1){s=s.toPrecision(x)}break;case"f":x=parseInt(y.slice(1),10);s=s.toFixed(x);break}}return""+s;case"d":case"i":if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"){return""+Math.floor(s)}return"0";case"u":if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"){return""+Math.max(Math.floor(s),0)}return"0";case"U":if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"){return""+Math.max(Math.floor(s),1)}return"1";case"x":if(typeof s==="string"){s=parseInt(s)}if(typeof s!=="number"){return"0"}o=""+Math.max(Math.floor(s),0).toString(16);if(o.length%2){o="0"+o}return o;case"h":if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"){return""+Math.max(Math.floor(s),0).toString(16)}return"0";case"o":if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"){return""+Math.max(Math.floor(s),0).toString(8)}return"0";case"b":if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"){return""+Math.max(Math.floor(s),0).toString(2)}return"0";case"I":k=3;if(y!==undefined){k=parseInt(y,10)}return n({depth:k,style:r&&r.color?"color":"none"},s);case"Y":k=3;if(y!==undefined){k=parseInt(y,10)}return n({depth:k,style:r&&r.color?"color":"none",noFunc:true,enumOnly:true,noDescriptor:true},s);case"E":return i({style:r&&r.color?"color":"none"},s);case"J":return JSON.stringify(s);case"D":return"";case"F":a--;if(y===undefined){return""}w=y.split(":");_=w[0];j=w[1];if(!_){return""}if(j&&(A=j.match(/%([+-]?)([0-9]*)[a-zA-Z]/g))){for(v=0;v<A.length;v++){d=A[v][1];g=A[v][2];if(g){g=parseInt(g,10);if(d){if(d==="+"){g=a+g}else if(d==="-"){g=a-g}}}else{g=a}a++;if(g>=u||g<1){T[v]=undefined}else{T[v]=l[g]}}}if(!r||!r.fn||typeof r.fn[_]!=="function"){return""}return r.fn[_].apply(r,T);default:return""}});if(c&&this.markupReset&&this.endingMarkupReset){t+=typeof this.markupReset==="function"?this.markupReset(p):this.markupReset}if(this.extraArguments){for(;a<u;a++){s=l[a];if(s===null||s===undefined){continue}else if(typeof s==="string"){t+=s}else if(typeof s==="number"){t+=s}else if(typeof s.toString==="function"){t+=s.toString()}}}return t};var o={extraArguments:true,endingMarkupReset:true,startingMarkupReset:false,markupReset:s.reset,shiftMarkup:{"#":"background"},markup:{":":s.reset," ":s.reset+" ","-":s.dim,"+":s.bold,_:s.underline,"/":s.italic,"!":s.inverse,b:s.blue,B:s.brightBlue,c:s.cyan,C:s.brightCyan,g:s.green,G:s.brightGreen,k:s.black,K:s.brightBlack,m:s.magenta,M:s.brightMagenta,r:s.red,R:s.brightRed,w:s.white,W:s.brightWhite,y:s.yellow,Y:s.brightYellow},shiftedMarkup:{background:{":":s.reset," ":s.reset+" ",b:s.bgBlue,B:s.bgBrightBlue,c:s.bgCyan,C:s.bgBrightCyan,g:s.bgGreen,G:s.bgBrightGreen,k:s.bgBlack,K:s.bgBrightBlack,m:s.bgMagenta,M:s.bgBrightMagenta,r:s.bgRed,R:s.bgBrightRed,w:s.bgWhite,W:s.bgBrightWhite,y:s.bgYellow,Y:s.bgBrightYellow}}};r.format=r.formatMethod.bind(o);r.format.default=o;r.markupMethod=function e(t){if(typeof t!=="string"){if(!t){t=""}else if(typeof t.toString==="function"){t=t.toString()}else{t=""}}var r=this,n=false,i=null,s=[];if(this.markupReset&&this.startingMarkupReset){t=(typeof this.markupReset==="function"?this.markupReset(s):this.markupReset)+t}t=t.replace(/\^(.?)/g,function(e,t){var o;if(t==="^"){return"^"}if(r.shiftMarkup&&r.shiftMarkup[t]){i=r.shiftMarkup[t];return""}if(i){if(!r.shiftedMarkup||!r.shiftedMarkup[i]||!r.shiftedMarkup[i][t]){return""}n=true;if(typeof r.shiftedMarkup[i][t]==="function"){o=r.shiftedMarkup[i][t](s)}else{o=r.shiftedMarkup[i][t];s.push(o)}i=null}else{if(!r.markup||!r.markup[t]){return""}n=true;if(typeof r.markup[t]==="function"){o=r.markup[t](s)}else{o=r.markup[t];s.push(o)}}return o});if(n&&this.markupReset&&this.endingMarkupReset){t+=typeof this.markupReset==="function"?this.markupReset(s):this.markupReset}return t};r.markup=r.markupMethod.bind(o);r.format.count=function e(t){var r,n,i,s=1,o=0;if(typeof t!=="string"){return 0}var a=/%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-EG-Z])/g;while((r=a.exec(t))!==null){i=r[1];n=r[2];if(n){n=parseInt(n,10);if(i){if(i==="+"){n=s+n}else if(i==="-"){n=s-n}}}else{n=s}s++;if(o<n){o=n}}return o};r.format.hasFormatting=function e(t){if(t.search(/\^(.?)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/)!==-1){return true}else{return false}}},{"./ansi.js":19,"./inspect.js":23}],23:[function(e,t,r){(function(t,n){"use strict";var i=e("tree-kit/lib/extend.js");var s=e("./escape.js");var o=e("./ansi.js");function a(e,t){if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}var r={depth:0,ancestors:[]};if(!e.style){e.style=h.none}else if(typeof e.style==="string"){e.style=h[e.style]}if(e.depth===undefined){e.depth=3}if(e.nofunc){e.noFunc=true}if(e.minimal){e.noFunc=true;e.noDescriptor=true;e.noType=true;e.enumOnly=true;e.funcDetails=false;e.proto=false}return l(r,e,t)}function l(e,r,n){var i,o,a,f,p,h,d,g,y,m,b,v,x="",k="",w="",_,j;d=typeof n;y=r.style.tab.repeat(e.depth);if(d==="function"&&r.noFunc){return""}if(e.key!==undefined){if(e.descriptor){w=[];if(!e.descriptor.configurable){w.push("-conf")}if(!e.descriptor.enumerable){w.push("-enum")}if(!e.descriptor.writable){w.push("-w")}if(w.length){w=w.join(" ")}else{w=""}}if(e.keyIsProperty){if(u(e.key)){k='"'+r.style.key(e.key)+'": '}else{k=r.style.key(e.key)+": "}}else{k="["+r.style.index(e.key)+"] "}if(w){w=" "+r.style.type(w)}}g=e.noPre?"":y+k;if(n===undefined){x+=g+r.style.constant("undefined")+w+r.style.nl}else if(n===null){x+=g+r.style.constant("null")+w+r.style.nl}else if(n===false){x+=g+r.style.constant("false")+w+r.style.nl}else if(n===true){x+=g+r.style.constant("true")+w+r.style.nl}else if(d==="number"){x+=g+r.style.number(n.toString())+(r.noType?"":" "+r.style.type("number"))+w+r.style.nl}else if(d==="string"){x+=g+'"'+r.style.string(s.control(n))+'" '+(r.noType?"":r.style.type("string")+r.style.length("("+n.length+")"))+w+r.style.nl}else if(t.isBuffer(n)){x+=g+r.style.inspect(n.inspect())+" "+(r.noType?"":r.style.type("Buffer")+r.style.length("("+n.length+")"))+w+r.style.nl}else if(d==="object"||d==="function"){o=a="";b=false;if(d==="function"){b=true;o=" "+r.style.funcName(n.name?n.name:"(anonymous)");a=r.style.length("("+n.length+")")}m=false;if(Array.isArray(n)){m=true;a=r.style.length("("+n.length+")")}if(!n.constructor){p="(no constructor)"}else if(!n.constructor.name){p="(anonymous)"}else{p=n.constructor.name}p=r.style.constructorName(p);x+=g;if(!r.noType){if(e.forceType){x+=r.style.type(e.forceType)}else{x+=p+o+a+" "+r.style.type(d)+w}if(!b||r.funcDetails){x+=" "}}f=Object.getOwnPropertyNames(n);if(r.sort){f.sort()}v=c(n);if(v!==undefined){x+="=> "+l({depth:e.depth,ancestors:e.ancestors,noPre:true},r,v)}else if(b&&!r.funcDetails){x+=r.style.nl}else if(!f.length&&!r.proto){x+="{}"+r.style.nl}else if(e.depth>=r.depth){x+=r.style.limit("[depth limit]")+r.style.nl}else if(e.ancestors.indexOf(n)!==-1){x+=r.style.limit("[circular]")+r.style.nl}else{x+=(m&&r.noType?"[":"{")+r.style.nl;j=e.ancestors.slice();j.push(n);for(i=0;i<f.length;i++){try{_=Object.getOwnPropertyDescriptor(n,f[i]);if(!_.enumerable&&r.enumOnly){continue}h=!m||!_.enumerable||isNaN(f[i]);if(!r.noDescriptor&&(_.get||_.set)){x+=l({depth:e.depth+1,ancestors:j,key:f[i],keyIsProperty:h,descriptor:_,forceType:"getter/setter"},r,{get:_.get,set:_.set})}else{x+=l({depth:e.depth+1,ancestors:j,key:f[i],keyIsProperty:h,descriptor:r.noDescriptor?undefined:_},r,n[f[i]])}}catch(t){x+=l({depth:e.depth+1,ancestors:j,key:f[i],keyIsProperty:h,descriptor:r.noDescriptor?undefined:_},r,t)}}if(r.proto){x+=l({depth:e.depth+1,ancestors:j,key:"__proto__",keyIsProperty:true},r,n.__proto__)}x+=y+(m&&r.noType?"]":"}")+r.style.nl}}if(e.depth===0){if(r.style==="html"){x=s.html(x)}}return x}r.inspect=a;function u(e){if(!e.length){return true}return false}function c(e){switch(e.constructor.name){case"Date":if(e instanceof Date){return e.toString()+" ["+e.getTime()+"]"}break;case"Set":if(typeof Set==="function"&&e instanceof Set){return Array.from(e)}break;case"Map":if(typeof Map==="function"&&e instanceof Map){return Array.from(e)}break;case"ObjectID":if(e._bsontype){return e.toString()}break}return}function f(e,t){var r="",n,i,s;if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}if(!(t instanceof Error)){return}if(!e.style){e.style=h.none}else if(typeof e.style==="string"){e.style=h[e.style]}if(t.stack){n=p(e,t.stack)}i=t.type||t.constructor.name;s=t.code||t.name||t.errno||t.number;r+=e.style.errorType(i)+(s?" ["+e.style.errorType(s)+"]":"")+": ";r+=e.style.errorMessage(t.message)+"\n";if(n){r+=e.style.errorStack(n)+"\n"}return r}r.inspectError=f;function p(e,t){if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}if(!e.style){e.style=h.none}else if(typeof e.style==="string"){e.style=h[e.style]}if(!t){return}if((e.browser||n.browser)&&t.indexOf("@")!==-1){t=t.replace(/[<\/]*(?=@)/g,"").replace(/^\s*([^@]*)\s*@\s*([^\n]*)(?::([0-9]+):([0-9]+))?$/gm,function(t,r,n,i,s){return e.style.errorStack("    at ")+(r?e.style.errorStackMethod(r)+" ":"")+e.style.errorStack("(")+(n?e.style.errorStackFile(n):e.style.errorStack("unknown"))+(i?e.style.errorStack(":")+e.style.errorStackLine(i):"")+(s?e.style.errorStack(":")+e.style.errorStackColumn(s):"")+e.style.errorStack(")")})}else{t=t.replace(/^[^\n]*\n/,"");t=t.replace(/^\s*(at)\s+(?:([^\s:\(\)\[\]\n]+(?:\([^\)]+\))?)\s)?(?:\[as ([^\s:\(\)\[\]\n]+)\]\s)?(?:\(?([^:\(\)\[\]\n]+):([0-9]+):([0-9]+)\)?)?$/gm,function(t,r,n,i,s,o,a){return e.style.errorStack("    at ")+(n?e.style.errorStackMethod(n)+" ":"")+(i?e.style.errorStack("[as ")+e.style.errorStackMethodAs(i)+e.style.errorStack("] "):"")+e.style.errorStack("(")+(s?e.style.errorStackFile(s):e.style.errorStack("unknown"))+(o?e.style.errorStack(":")+e.style.errorStackLine(o):"")+(a?e.style.errorStack(":")+e.style.errorStackColumn(a):"")+e.style.errorStack(")")})}return t}r.inspectStack=p;var h={};var d=function(e){return e};h.none={tab:"    ",nl:"\n",limit:d,type:function(e){return"<"+e+">"},constant:d,funcName:d,constructorName:function(e){return"<"+e+">"},length:d,key:d,index:d,number:d,inspect:d,string:d,errorType:d,errorMessage:d,errorStack:d,errorStackMethod:d,errorStackMethodAs:d,errorStackFile:d,errorStackLine:d,errorStackColumn:d};h.color=i(null,{},h.none,{limit:function(e){return o.bold+o.brightRed+e+o.reset},type:function(e){return o.italic+o.brightBlack+e+o.reset},constant:function(e){return o.cyan+e+o.reset},funcName:function(e){return o.italic+o.magenta+e+o.reset},constructorName:function(e){return o.magenta+e+o.reset},length:function(e){return o.italic+o.brightBlack+e+o.reset},key:function(e){return o.green+e+o.reset},index:function(e){return o.blue+e+o.reset},number:function(e){return o.cyan+e+o.reset},inspect:function(e){return o.cyan+e+o.reset},string:function(e){return o.blue+e+o.reset},errorType:function(e){return o.red+o.bold+e+o.reset},
errorMessage:function(e){return o.red+o.italic+e+o.reset},errorStack:function(e){return o.brightBlack+e+o.reset},errorStackMethod:function(e){return o.brightYellow+e+o.reset},errorStackMethodAs:function(e){return o.yellow+e+o.reset},errorStackFile:function(e){return o.brightCyan+e+o.reset},errorStackLine:function(e){return o.blue+e+o.reset},errorStackColumn:function(e){return o.magenta+e+o.reset}});h.html=i(null,{},h.none,{tab:"&nbsp;&nbsp;&nbsp;&nbsp;",nl:"<br />",limit:function(e){return'<span style="color:red">'+e+"</span>"},type:function(e){return'<i style="color:gray">'+e+"</i>"},constant:function(e){return'<span style="color:cyan">'+e+"</span>"},funcName:function(e){return'<i style="color:magenta">'+e+"</i>"},constructorName:function(e){return'<span style="color:magenta">'+e+"</span>"},length:function(e){return'<i style="color:gray">'+e+"</i>"},key:function(e){return'<span style="color:green">'+e+"</span>"},index:function(e){return'<span style="color:blue">'+e+"</span>"},number:function(e){return'<span style="color:cyan">'+e+"</span>"},inspect:function(e){return'<span style="color:cyan">'+e+"</span>"},string:function(e){return'<span style="color:blue">'+e+"</span>"},errorType:function(e){return'<span style="color:red">'+e+"</span>"},errorMessage:function(e){return'<span style="color:red">'+e+"</span>"},errorStack:function(e){return'<span style="color:gray">'+e+"</span>"},errorStackMethod:function(e){return'<span style="color:yellow">'+e+"</span>"},errorStackMethodAs:function(e){return'<span style="color:yellow">'+e+"</span>"},errorStackFile:function(e){return'<span style="color:cyan">'+e+"</span>"},errorStackLine:function(e){return'<span style="color:blue">'+e+"</span>"},errorStackColumn:function(e){return'<span style="color:gray">'+e+"</span>"}})}).call(this,{isBuffer:e("../../is-buffer/index.js")},e("_process"))},{"../../is-buffer/index.js":10,"./ansi.js":19,"./escape.js":21,_process:17,"tree-kit/lib/extend.js":33}],24:[function(e,t,r){t.exports={"߀":"0","́":""," ":" ","Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ɓ":"B","ｃ":"C","Ⓒ":"C","Ｃ":"C","Ꜿ":"C","Ḉ":"C","Ç":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ɗ":"D","Ɖ":"D","ᴅ":"D","Ꝺ":"D","Ð":"Dh","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","ɛ":"E","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","ᴇ":"E","ꝼ":"F","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","ɢ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","ȷ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","ϻ":"M","Ꞥ":"N","Ƞ":"N","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ɲ":"N","Ꞑ":"N","ᴎ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Þ":"Th","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ɑ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","Ƃ":"b","ⓒ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c",C:"c","Ć":"c","Ĉ":"c","Ċ":"c","Č":"c","Ƈ":"c","Ȼ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","Ƌ":"d","Ꮷ":"d","ԁ":"d","Ɦ":"d","ð":"dh","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ﬀ":"ff","ﬁ":"fi","ﬂ":"fl","ﬃ":"ffi","ﬄ":"ffl","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ꝿ":"g","ᵹ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ɭ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ԉ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ɔ":"o","ᴑ":"o","œ":"oe","ƣ":"oi","ꝏ":"oo","ȣ":"ou","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ρ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ʂ":"s","ß":"ss","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","þ":"th","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"}},{}],25:[function(e,t,r){"use strict";var n=e("./latinize-map.json");t.exports=function(e){return e.replace(/[^\u0000-\u007e]/g,function(e){return n[e]||e})}},{"./latinize-map.json":24}],26:[function(e,t,r){"use strict";r.resize=function e(t,r){if(t.length===r){return t}else if(t.length>r){return t.slice(0,r)}else{return t+" ".repeat(r-t.length)}}},{}],27:[function(e,t,r){"use strict";var n={};t.exports=n;n.repeat=function(e){if(this===null){throw new TypeError("can't convert "+this+" to object")}var t=""+this;e=+e;if(e!==e){e=0}if(e<0){throw new RangeError("repeat count must be non-negative")}if(e===Infinity){throw new RangeError("repeat count must be less than infinity")}e=Math.floor(e);if(t.length===0||e===0){return""}if(t.length*e>=1<<28){throw new RangeError("repeat count must not overflow maximum string size")}var r="";for(;;){if((e&1)===1){r+=t}e>>>=1;if(e===0){break}t+=t}return r}},{}],28:[function(e,t,r){"use strict";var n=e("./escape.js");r.regexp={};r.regexp.array2alternatives=function e(t){var r,i=t.slice();i.sort(function(e,t){return t.length-e.length});for(r=0;r<i.length;r++){i[r]=n.regExpPattern(i[r])}return i.join("|")}},{"./escape.js":21}],29:[function(e,t,r){"use strict";var n=e("tree-kit");var i={};t.exports=i;var s;var o=e("./polyfill.js");for(s in o){i[s]=function(e){return o[s].apply(e,Array.prototype.slice.call(arguments,1))}}n.extend(null,i,{escape:e("./escape.js")},{ansi:e("./ansi.js")},{unicode:e("./unicode.js")});n.extend(null,i,e("./format.js"),e("./misc.js"),e("./inspect.js"),e("./regexp.js"),e("./camel.js"),{latinize:e("./latinize.js")});i.installPolyfills=function e(){var t;for(t in o){if(!String.prototype[t]){String.prototype[t]=o[t]}}}},{"./ansi.js":19,"./camel.js":20,"./escape.js":21,"./format.js":22,"./inspect.js":23,"./latinize.js":25,"./misc.js":26,"./polyfill.js":27,"./regexp.js":28,"./unicode.js":30,"tree-kit":37}],30:[function(e,t,r){"use strict";var n=e("punycode");var i={};t.exports=i;i.length=function e(t){return n.ucs2.decode(t).length};i.toArray=function e(t){return n.ucs2.decode(t).map(function(e){return n.ucs2.encode([e])})};i.surrogatePair=function e(t){var r=t.charCodeAt(0);if(r<55296||r>=57344){return 0}else if(r<56320){return 1}else{return-1}};i.isFullWidth=function e(t){var r=t.codePointAt(0);if(r>=4352&&(r<=4447||9001===r||9002===r||11904<=r&&r<=12871&&r!==12351||12880<=r&&r<=19903||19968<=r&&r<=42182||43360<=r&&r<=43388||44032<=r&&r<=55203||63744<=r&&r<=64255||65040<=r&&r<=65049||65072<=r&&r<=65131||65281<=r&&r<=65376||65504<=r&&r<=65510||110592<=r&&r<=110593||127488<=r&&r<=127569||131072<=r&&r<=262141)){return true}return false};i.toFullWidth=function e(t){return n.ucs2.encode(n.ucs2.decode(t).map(function(e){if(e>=33&&e<=126){return 65280+e-32}else{return e}}))}},{punycode:18}],31:[function(e,t,r){"use strict";t.exports=function e(t,r){var n,i,s,o,a,l,u=[{source:t,target:Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t))}],c=u[0].target,f=[t],p=[c];while(o=u.shift()){s=Object.getOwnPropertyNames(o.source);for(n=0;n<s.length;n++){i=Object.getOwnPropertyDescriptor(o.source,s[n]);if(!i.value||typeof i.value!=="object"){Object.defineProperty(o.target,s[n],i);continue}a=i.value;i.value=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));if(r){l=f.indexOf(a);if(l!==-1){i.value=p[l];Object.defineProperty(o.target,s[n],i);continue}f.push(a);p.push(i.value)}Object.defineProperty(o.target,s[n],i);u.push({source:a,target:i.value})}}return c}},{}],32:[function(e,t,r){"use strict";function n(e,t,r){var i,s,o,a,l,u,c,f,p,h,d;u=typeof e;c=typeof t;if(!e||u!=="object"&&u!=="function"||!t||c!=="object"&&c!=="function"){throw new Error("[tree] diff() needs objects as argument #0 and #1")}if(!r||typeof r!=="object"){r={}}f=r.depth||0;if(!f){r.diffObject={};if(!r.path){r.path=""}if(!r.pathSeparator){r.pathSeparator="."}}p=r.diffObject;if(Array.isArray(e)){d=true;h=e.length}else{d=false;a=Object.keys(e);h=a.length}for(i=0;i<h;i++){s=d?i:a[i];o=r.path+r.pathSeparator+s;if(!t.hasOwnProperty(s)){p[o]={path:o,message:"does not exist in right-hand side"};continue}u=typeof e[s];c=typeof t[s];if(u!==c){p[o]={path:o,message:"different typeof: "+u+" - "+c};continue}if(u==="object"||u==="function"){if(!e[s]){if(t[s]){p[o]={path:o,message:"different type: null - Object"}}continue}if(!t[s]){p[o]={path:o,message:"different type: Object - null"};continue}if(Array.isArray(e[s])&&!Array.isArray(t[s])){p[o]={path:o,message:"different type: Array - Object"};continue}if(!Array.isArray(e[s])&&Array.isArray(t[s])){p[o]={path:o,message:"different type: Object - Array"};continue}n(e[s],t[s],{path:o,pathSeparator:r.pathSeparator,depth:f+1,diffObject:p});continue}if(e[s]!==t[s]){p[o]={path:o,message:"different value: "+e[s]+" - "+t[s]};continue}}if(Array.isArray(t)){d=true;h=t.length}else{d=false;l=Object.keys(t);h=l.length}for(i=0;i<h;i++){s=d?i:l[i];o=r.path+r.pathSeparator+s;if(!e.hasOwnProperty(s)){p[o]={path:o,message:"does not exist in left-hand side"};continue}}return Object.keys(p).length?p:null}r.diff=n},{}],33:[function(e,t,r){"use strict";function n(e,t){var r,n,s=false,o=arguments.length;if(o<3){return t}var a=Array.prototype.slice.call(arguments,2);o=a.length;if(!e||typeof e!=="object"){e={}}var l={depth:0,prefix:""};if(!e.maxDepth&&e.deep&&!e.circular){e.maxDepth=100}if(e.deepFunc){e.deep=true}if(e.deepFilter&&typeof e.deepFilter==="object"){if(e.deepFilter.whitelist&&(!Array.isArray(e.deepFilter.whitelist)||!e.deepFilter.whitelist.length)){delete e.deepFilter.whitelist}if(e.deepFilter.blacklist&&(!Array.isArray(e.deepFilter.blacklist)||!e.deepFilter.blacklist.length)){delete e.deepFilter.blacklist}if(!e.deepFilter.whitelist&&!e.deepFilter.blacklist){delete e.deepFilter}}if(e.flat){e.deep=true;e.proto=false;e.inherit=false;e.unflat=false;if(typeof e.flat!=="string"){e.flat="."}}if(e.unflat){e.deep=false;e.proto=false;e.inherit=false;e.flat=false;if(typeof e.unflat!=="string"){e.unflat="."}}if(e.inherit){e.own=true;e.proto=false}else if(e.proto){e.own=true}if(!t||typeof t!=="object"&&typeof t!=="function"){s=true}if(!e.skipRoot&&(e.inherit||e.proto)){for(r=o-1;r>=0;r--){n=a[r];if(n&&(typeof n==="object"||typeof n==="function")){if(e.inherit){if(s){t=Object.create(n)}else{Object.setPrototypeOf(t,n)}}else if(e.proto){if(s){t=Object.create(Object.getPrototypeOf(n))}else{Object.setPrototypeOf(t,Object.getPrototypeOf(n))}}break}}}else if(s){t={}}l.references={sources:[],targets:[]};for(r=0;r<o;r++){n=a[r];if(!n||typeof n!=="object"&&typeof n!=="function"){continue}i(l,e,t,n)}return t}t.exports=n;function i(e,t,r,n){var s,o,a,l,u,c,f,p,h,d,g,y=-1;if(t.maxDepth&&e.depth>t.maxDepth){throw new Error("[tree] extend(): max depth reached("+t.maxDepth+")")}if(t.circular){e.references.sources.push(n);e.references.targets.push(r)}if(t.own){if(t.nonEnum){a=Object.getOwnPropertyNames(n)}else{a=Object.keys(n)}}else{a=n}for(l in a){if(t.own){l=a[l]}if(t.descriptor){p=Object.getOwnPropertyDescriptor(n,l);u=p.value}else{u=n[l]}d=r;h=e.prefix+l;if(t.nofunc&&typeof u==="function"){continue}if(t.unflat&&e.depth===0){g=l.split(t.unflat);o=g.length-1;if(o){for(s=0;s<o;s++){if(!d[g[s]]||typeof d[g[s]]!=="object"&&typeof d[g[s]]!=="function"){d[g[s]]={}}d=d[g[s]]}h=e.prefix+g[o]}}if(t.deep&&u&&(typeof u==="object"||t.deepFunc&&typeof u==="function")&&(!t.descriptor||!p.get)&&((c=Object.getPrototypeOf(u))||true)&&(!t.deepFilter||(!t.deepFilter.whitelist||t.deepFilter.whitelist.indexOf(c)!==-1)&&(!t.deepFilter.blacklist||t.deepFilter.blacklist.indexOf(c)===-1))){if(t.circular){y=e.references.sources.indexOf(u)}if(t.flat){if(y>=0){continue}i({depth:e.depth+1,prefix:e.prefix+l+t.flat,references:e.references},t,d,u)}else{if(y>=0){if(t.descriptor){Object.defineProperty(d,h,{value:e.references.targets[y],enumerable:p.enumerable,writable:p.writable,configurable:p.configurable})}else{d[h]=e.references.targets[y]}continue}if(!d[h]||!d.hasOwnProperty(h)||typeof d[h]!=="object"&&typeof d[h]!=="function"){if(Array.isArray(u)){f=[]}else if(t.proto){f=Object.create(c)}else if(t.inherit){f=Object.create(u)}else{f={}}if(t.descriptor){Object.defineProperty(d,h,{value:f,enumerable:p.enumerable,writable:p.writable,configurable:p.configurable})}else{d[h]=f}}else if(t.proto&&Object.getPrototypeOf(d[h])!==c){Object.setPrototypeOf(d[h],c)}else if(t.inherit&&Object.getPrototypeOf(d[h])!==u){Object.setPrototypeOf(d[h],u)}if(t.circular){e.references.sources.push(u);e.references.targets.push(d[h])}i({depth:e.depth+1,prefix:"",references:e.references},t,d[h],u)}}else if(t.preserve&&d[h]!==undefined){continue}else if(!t.inherit){if(t.descriptor){Object.defineProperty(d,h,p)}else{d[h]=u}}if(t.move){delete n[l]}}}},{}],34:[function(e,t,r){"use strict";r.defineLazyProperty=function e(t,r,n){Object.defineProperty(t,r,{configurable:true,enumerable:true,get:function(){var e=n();Object.defineProperty(t,r,{configurable:true,enumerable:true,writable:false,value:e});return e}})}},{}],35:[function(e,t,r){"use strict";var n=e("./tree.js");var i=e("util");var s={};t.exports=s;s.Mask=function e(){throw new Error("Cannot create a tree.Mask() directly")};var o={clone:false,path:"<object>",pathSeparator:"."};s.createMask=function e(t,r){if(t===null||typeof t!=="object"){throw new TypeError("[tree] .createMask() : Argument #1 should be an object")}if(r!==null&&typeof r==="object"){r=n.extend(null,{},o,r)}else{r=o}var i=Object.create(s.Mask.prototype,{__options__:{value:r,writable:true}});n.extend(null,i,t);return i};s.Mask.prototype.applyTo=function e(t,r,i){if(t===null||typeof t!=="object"){throw new TypeError("[tree] .applyTo() : Argument #1 should be an object")}if(i){r=n.extend(null,{mask:this,options:this.__options__,path:this.__options__.path},r)}else if(r===undefined){r={mask:this,options:this.__options__,path:this.__options__.path}}var o,a,l,u,c,f,p=Object.keys(r.mask),h,d,g,y;if(Array.isArray(t)){l=[]}else{l={}}for(u=0;u<p.length;u++){c=p[u];f=r.mask[c];if(c==="*"){y=Object.keys(t);for(h=0;h<y.length;h++){d=y[h];g=t[d];a=r.path+r.options.pathSeparator+d;if(f!==null&&typeof f==="object"){if(t[d]!==null&&typeof t[d]==="object"){if(t[d]instanceof s.Mask){l[d]=t[d].applyTo(t[d],{path:a},true)}else{l[d]=this.applyTo(t[d],n.extend(null,{},r,{mask:f,path:a}))}}else if(typeof r.options.leaf==="function"){l[d]=this.applyTo({},n.extend(null,{},r,{mask:f,path:a}))}}else if(f!==null&&typeof r.options.leaf==="function"){o=r.options.leaf(t,d,f,a);if(!(o instanceof Error)){l[d]=o}}else{if(r.options.clone&&(t[d]!==null&&typeof t[d]==="object")){l[d]=n.extend({deep:true},{},t[d])}else{l[d]=t[d]}}}continue}a=r.path+r.options.pathSeparator+c;if(f!==null&&typeof f==="object"){if(t.hasOwnProperty(c)&&t[c]!==null&&typeof t[c]==="object"){if(t.key instanceof s.Mask){l[c]=t.key.applyTo(t[c],{path:a},true)}else{l[c]=this.applyTo(t[c],n.extend(null,{},r,{mask:f,path:a}))}}else if(r.options.leaf){l[c]=this.applyTo({},n.extend(null,{},r,{mask:f,path:a}))}}else if(t.hasOwnProperty(c)){if(f!==undefined&&typeof r.options.leaf==="function"){o=r.options.leaf(t,c,f,a);if(!(o instanceof Error)){l[c]=o}}else{if(r.options.clone&&(t[c]!==null&&typeof t[c]==="object")){l[c]=n.extend({deep:true},{},t[c])}else{l[c]=t[c]}}}else if(f!==undefined&&typeof r.options.leaf==="function"){o=r.options.leaf(t,c,f,a);if(!(o instanceof Error)){l[c]=o}}}return l};s.InverseMask=function e(){throw new Error("Cannot create a tree.InverseMask() directly")};i.inherits(s.InverseMask,s.Mask);s.createInverseMask=function e(t,r){if(t===null||typeof t!=="object"){throw new TypeError("[tree] .createInverseMask() : Argument #1 should be an object")}if(r!==null&&typeof r==="object"){r=n.extend(null,{},o,r)}else{r=o}var i=Object.create(s.InverseMask.prototype,{__options__:{value:r,writable:true}});n.extend(null,i,t);return i};s.InverseMask.prototype.applyTo=function e(t,r,i){if(t===null||typeof t!=="object"){throw new TypeError("[tree] .applyTo() : Argument #1 should be an object")}if(i){r=n.extend(null,{mask:this,options:this.__options__,path:this.__options__.path},r)}else if(r===undefined){r={mask:this,options:this.__options__,path:this.__options__.path}}var o,a,l,u,c,f=Object.keys(r.mask),p,h,d,g;if(Array.isArray(t)){a=n.extend({deep:true},[],t)}else{a=n.extend({deep:true},{},t)}for(l=0;l<f.length;l++){u=f[l];c=r.mask[u];if(u==="*"){g=Object.keys(t);for(p=0;p<g.length;p++){h=g[p];d=t[h];o=r.path+r.options.pathSeparator+h;if(c!==null&&typeof c==="object"){if(t[h]!==null&&typeof t[h]==="object"){if(t[h]instanceof s.Mask){a[h]=t[h].applyTo(t[h],{path:o},true)}else{a[h]=this.applyTo(t[h],n.extend(null,{},r,{mask:c,path:o}))}}}else{delete a[h]}}continue}o=r.path+r.options.pathSeparator+u;if(c!==null&&typeof c==="object"){if(t.hasOwnProperty(u)&&t[u]!==null&&typeof t[u]==="object"){if(t.key instanceof s.Mask){a[u]=t.key.applyTo(t[u],{path:o},true)}else{a[u]=this.applyTo(t[u],n.extend(null,{},r,{mask:c,path:o}))}}}else if(t.hasOwnProperty(u)){delete a[u]}}return a}},{"./tree.js":37,util:40}],36:[function(e,t,r){"use strict";var n={};t.exports=n;n.op=function e(t,r,n,i){var s,o,a,l,u,c=false,f=false,p,h=true;if(!r||typeof r!=="object"&&typeof r!=="function"){return}if(typeof n==="string"){if(n){o=n.match(/([.#\[\]]|[^.#\[\]]+)/g)}else{o=[""]}if(o[0]==="."){o.unshift("")}if(o[o.length-1]==="."){o.push("")}}else if(Array.isArray(n)){o=n;f=true}else{throw new TypeError("[tree.path] ."+t+"(): the path argument should be a string or an array")}switch(t){case"get":case"delete":p=false;break;case"set":case"define":case"inc":case"dec":case"append":case"prepend":case"concat":case"insert":case"autoPush":p=true;break;default:throw new TypeError("[tree.path] .op(): wrong type of operation '"+t+"'")}l=r;a=o.length-1;for(s=0;s<=a;s++){if(f){if(u===undefined){u=o[s];continue}if(!l[u]||typeof l[u]!=="object"&&typeof l[u]!=="function"){if(!p){return undefined}l[u]={}}l=l[u];u=o[s];continue}else if(o[s]==="."){c=false;if(u===undefined){if(!h){h=true;continue}u=""}if(!l[u]||typeof l[u]!=="object"&&typeof l[u]!=="function"){if(!p){return undefined}l[u]={}}l=l[u];h=true;continue}else if(o[s]==="#"||o[s]==="["){c=true;h=false;if(u===undefined){if(!Array.isArray(l)){return undefined}continue}if(!l[u]||!Array.isArray(l[u])){if(!p){return undefined}l[u]=[]}l=l[u];continue}else if(o[s]==="]"){h=false;continue}h=false;if(!c){u=o[s];continue}switch(o[s]){case"length":u=o[s];break;case"first":u=0;break;case"last":u=l.length-1;if(u<0){u=0}break;case"next":if(!p){return undefined}u=l.length;break;case"insert":if(!p){return undefined}l.unshift(undefined);u=0;break;default:u=parseInt(o[s],10)}}switch(t){case"get":return l[u];case"delete":if(c&&typeof u==="number"){l.splice(u,1)}else{delete l[u]}return;case"set":l[u]=i;return l[u];case"define":if(!(u in l)){l[u]=i}return l[u];case"inc":if(typeof l[u]==="number"){l[u]++}else if(!l[u]||typeof l[u]!=="object"){l[u]=1}return l[u];case"dec":if(typeof l[u]==="number"){l[u]--}else if(!l[u]||typeof l[u]!=="object"){l[u]=-1}return l[u];case"append":if(!l[u]){l[u]=[i]}else if(Array.isArray(l[u])){l[u].push(i)}return l[u];case"prepend":if(!l[u]){l[u]=[i]}else if(Array.isArray(l[u])){l[u].unshift(i)}return l[u];case"concat":if(!l[u]){l[u]=i}else if(Array.isArray(l[u])&&Array.isArray(i)){l[u]=l[u].concat(i)}return l[u];case"insert":if(!l[u]){l[u]=i}else if(Array.isArray(l[u])&&Array.isArray(i)){l[u]=i.concat(l[u])}return l[u];case"autoPush":if(l[u]===undefined){l[u]=i}else if(Array.isArray(l[u])){l[u].push(i)}else{l[u]=[l[u],i]}return l[u]}};n.get=n.op.bind(undefined,"get");n.delete=n.op.bind(undefined,"delete");n.set=n.op.bind(undefined,"set");n.define=n.op.bind(undefined,"define");n.inc=n.op.bind(undefined,"inc");n.dec=n.op.bind(undefined,"dec");n.append=n.op.bind(undefined,"append");n.prepend=n.op.bind(undefined,"prepend");n.concat=n.op.bind(undefined,"concat");n.insert=n.op.bind(undefined,"insert");n.autoPush=n.op.bind(undefined,"autoPush");n.prototype={get:function(e){return n.get(this,e)},delete:function(e){return n.delete(this,e)},set:function(e,t){return n.set(this,e,t)},define:function(e,t){return n.define(this,e,t)},inc:function(e,t){return n.inc(this,e,t)},dec:function(e,t){return n.dec(this,e,t)},append:function(e,t){return n.append(this,e,t)},prepend:function(e,t){return n.prepend(this,e,t)},concat:function(e,t){return n.concat(this,e,t)},insert:function(e,t){return n.insert(this,e,t)},autoPush:function(e,t){return n.autoPush(this,e,t)}};n.upgrade=function e(t){Object.defineProperties(t,{get:{value:n.op.bind(undefined,"get",t)},delete:{value:n.op.bind(undefined,"delete",t)},set:{value:n.op.bind(undefined,"set",t)},define:{value:n.op.bind(undefined,"define",t)},inc:{value:n.op.bind(undefined,"inc",t)},dec:{value:n.op.bind(undefined,"dec",t)},append:{value:n.op.bind(undefined,"append",t)},prepend:{value:n.op.bind(undefined,"prepend",t)},concat:{value:n.op.bind(undefined,"concat",t)},insert:{value:n.op.bind(undefined,"insert",t)},autoPush:{value:n.op.bind(undefined,"autoPush",t)}})}},{}],37:[function(e,t,r){"use strict";var n={};t.exports=n;n.extend=e("./extend.js");n.extend(null,n,e("./lazy.js"),{clone:e("./clone.js")},{path:e("./path.js")},e("./diff.js"),e("./mask.js"))},{"./clone.js":31,"./diff.js":32,"./extend.js":33,"./lazy.js":34,"./mask.js":35,"./path.js":36}],38:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function e(t,r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}},{}],39:[function(e,t,r){t.exports=function e(t){return t&&typeof t==="object"&&typeof t.copy==="function"&&typeof t.fill==="function"&&typeof t.readUInt8==="function"}},{}],40:[function(e,t,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!w(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(a(arguments[r]))}return t.join(" ")}var r=1;var n=arguments;var s=n.length;var o=String(e).replace(i,function(e){if(e==="%%")return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}});for(var l=n[r];r<s;l=n[++r]){if(v(l)||!T(l)){o+=" "+l}else{o+=" "+a(l)}}return o};r.deprecate=function(e,i){if(j(n.process)){return function(){return r.deprecate(e,i).apply(this,arguments)}}if(t.noDeprecation===true){return e}var s=false;function o(){if(!s){if(t.throwDeprecation){throw new Error(i)}else if(t.traceDeprecation){console.trace(i)}else{console.error(i)}s=true}return e.apply(this,arguments)}return o};var s={};var o;r.debuglog=function(e){if(j(o))o=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!s[e]){if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;s[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else{s[e]=function(){}}}return s[e]};function a(e,t){var n={seen:[],stylize:u};if(arguments.length>=3)n.depth=arguments[2];if(arguments.length>=4)n.colors=arguments[3];if(b(t)){n.showHidden=t}else if(t){r._extend(n,t)}if(j(n.showHidden))n.showHidden=false;if(j(n.depth))n.depth=2;if(j(n.colors))n.colors=false;if(j(n.customInspect))n.customInspect=true;if(n.colors)n.stylize=l;return f(n,e,n.depth)}r.inspect=a;a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(e,t){var r=a.styles[t];if(r){return"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m"}else{return e}}function u(e,t){return e}function c(e){var t={};e.forEach(function(e,r){t[e]=true});return t}function f(e,t,n){if(e.customInspect&&t&&O(t.inspect)&&t.inspect!==r.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(n,e);if(!w(i)){i=f(e,i,n)}return i}var s=p(e,t);if(s){return s}var o=Object.keys(t);var a=c(o);if(e.showHidden){o=Object.getOwnPropertyNames(t)}if(M(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0)){return h(t)}if(o.length===0){if(O(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(A(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(C(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(M(t)){return h(t)}}var u="",b=false,v=["{","}"];if(m(t)){b=true;v=["[","]"]}if(O(t)){var x=t.name?": "+t.name:"";u=" [Function"+x+"]"}if(A(t)){u=" "+RegExp.prototype.toString.call(t)}if(C(t)){u=" "+Date.prototype.toUTCString.call(t)}if(M(t)){u=" "+h(t)}if(o.length===0&&(!b||t.length==0)){return v[0]+u+v[1]}if(n<0){if(A(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var k;if(b){k=d(e,t,n,a,o)}else{k=o.map(function(r){return g(e,t,n,a,r,b)})}e.seen.pop();return y(k,u,v)}function p(e,t){if(j(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(k(t))return e.stylize(""+t,"number");if(b(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i){var s=[];for(var o=0,a=t.length;o<a;++o){if(R(t,String(o))){s.push(g(e,t,r,n,String(o),true))}else{s.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){s.push(g(e,t,r,n,i,true))}});return s}function g(e,t,r,n,i,s){var o,a,l;l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(l.get){if(l.set){a=e.stylize("[Getter/Setter]","special")}else{a=e.stylize("[Getter]","special")}}else{if(l.set){a=e.stylize("[Setter]","special")}}if(!R(n,i)){o="["+i+"]"}if(!a){if(e.seen.indexOf(l.value)<0){if(v(r)){a=f(e,l.value,null)}else{a=f(e,l.value,r-1)}if(a.indexOf("\n")>-1){if(s){a=a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{a="\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{a=e.stylize("[Circular]","special")}}if(j(o)){if(s&&i.match(/^\d+$/)){return a}o=JSON.stringify(""+i);if(o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){o=o.substr(1,o.length-2);o=e.stylize(o,"name")}else{o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");o=e.stylize(o,"string")}}return o+": "+a}function y(e,t,r){var n=0;var i=e.reduce(function(e,t){n++;if(t.indexOf("\n")>=0)n++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function m(e){return Array.isArray(e)}r.isArray=m;function b(e){return typeof e==="boolean"}r.isBoolean=b;function v(e){return e===null}r.isNull=v;function x(e){return e==null}r.isNullOrUndefined=x;function k(e){return typeof e==="number"}r.isNumber=k;function w(e){return typeof e==="string"}r.isString=w;function _(e){return typeof e==="symbol"}r.isSymbol=_;function j(e){return e===void 0}r.isUndefined=j;function A(e){return T(e)&&S(e)==="[object RegExp]"}r.isRegExp=A;function T(e){return typeof e==="object"&&e!==null}r.isObject=T;function C(e){return T(e)&&S(e)==="[object Date]"}
r.isDate=C;function M(e){return T(e)&&(S(e)==="[object Error]"||e instanceof Error)}r.isError=M;function O(e){return typeof e==="function"}r.isFunction=O;function E(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=E;r.isBuffer=e("./support/isBuffer");function S(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date;var t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}r.log=function(){console.log("%s - %s",P(),r.format.apply(r,arguments))};r.inherits=e("inherits");r._extend=function(e,t){if(!t||!T(t))return e;var r=Object.keys(t);var n=r.length;while(n--){e[r[n]]=t[r[n]]}return e};function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":39,_process:17,inherits:38}]},{},[2])(2)});